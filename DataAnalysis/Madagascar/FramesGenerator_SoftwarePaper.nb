(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    150029,       3605]
NotebookOptionsPosition[    145854,       3493]
NotebookOutlinePosition[    146240,       3510]
CellTagsIndexPosition[    146197,       3507]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Network Map Animation Routines", "Title",
 CellChangeTimes->{{3.711972549137986*^9, 3.711972559684214*^9}, 
   3.72841750724235*^9},ExpressionUUID->"2ff85094-177f-4203-aeef-\
ae3a7082f034"],

Cell[CellGroupData[{

Cell["Functions", "Chapter",
 CellChangeTimes->{{3.71205745505372*^9, 3.7120574595945044`*^9}, {
   3.728567273851347*^9, 3.728567295416803*^9}, 
   3.7286746260100727`*^9},ExpressionUUID->"245eba7d-e03d-4aa2-a830-\
5a1f00392c1f"],

Cell[BoxData[{
 RowBox[{"<<", "PajaroLocoPublic`"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ImportAndReshapeMosquitoDatasets", "[", 
   RowBox[{"dataPath_", ",", 
    RowBox[{"{", 
     RowBox[{"maleFilenamePattern_", ",", "femaleFilenamePattern_"}], "}"}]}],
    "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "names", ",", "dataSets", ",", "maleFilenames", ",", "femaleFilenames", 
      ",", "maleDatasets", ",", "femaleDatasets", ",", "genotypes", ",", 
      "ticksMax", ",", "maleMax", ",", "femaleMax"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"maleFilenames", "=", 
      RowBox[{
       RowBox[{"FileNames", "[", 
        RowBox[{
         RowBox[{"maleFilenamePattern", "<>", "\"\<_*.csv\>\""}], ",", 
         "dataPath"}], "]"}], "//", "Sort"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"femaleFilenames", "=", 
      RowBox[{
       RowBox[{"FileNames", "[", 
        RowBox[{
         RowBox[{"femaleFilenamePattern", "<>", "\"\<_Aggregate*.csv\>\""}], 
         ",", "dataPath"}], "]"}], "//", "Sort"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"maleDatasets", "=", 
      RowBox[{"AddTotalPopulationToDataset", "[", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Import", "[", "#", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"3", ";;", "All"}], ",", 
             RowBox[{"3", ";;", "All"}]}], "]"}], "]"}], "&"}], ",", 
         "maleFilenames"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"femaleDatasets", "=", 
      RowBox[{"AddTotalPopulationToDataset", "[", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Import", "[", "#", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{
             RowBox[{"3", ";;", "All"}], ",", 
             RowBox[{"3", ";;", "All"}]}], "]"}], "]"}], "&"}], ",", 
         "maleFilenames"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"genotypes", "=", 
      RowBox[{
       RowBox[{"Import", "[", 
        RowBox[{"maleFilenames", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}], "[", 
       RowBox[{"[", 
        RowBox[{"1", ",", 
         RowBox[{"3", ";;", "All"}]}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ticksMax", "=", 
      RowBox[{"Length", "[", 
       RowBox[{"maleDatasets", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"maleMax", ",", "femaleMax"}], "}"}], "=", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"Flatten", "[", "maleDatasets", "]"}], "//", "Max"}], ",", 
        RowBox[{
         RowBox[{"Flatten", "[", "femaleDatasets", "]"}], "//", "Max"}]}], 
       "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", "Output", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"maleDatasets", ",", "femaleDatasets"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"genotypes", ",", "ticksMax", ",", 
         RowBox[{"{", 
          RowBox[{"maleMax", ",", "femaleMax"}], "}"}]}], "}"}]}], 
      "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GenerateColorPalette", "[", 
   RowBox[{"genotypes_", ",", "colorScheme_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"steps", ",", "colors"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"steps", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"genotypes", "//", "Length"}], ")"}], "-", "1"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"colors", "=", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"ColorData", "[", 
            RowBox[{"colorScheme", ",", "#"}], "]"}], "&"}], "/@", 
          RowBox[{"Range", "[", 
           RowBox[{"0", ",", "1", ",", 
            RowBox[{"1", "/", "steps"}]}], "]"}]}], ",", "Black"}], "}"}], "//",
        "Flatten"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Append", "[", 
        RowBox[{"genotypes", ",", "\"\<Total\>\""}], "]"}], ",", "colors"}], 
      "}"}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ImportGeoCoordinatesAndKernel", "[", 
   RowBox[{"coordinatesFilePath_", ",", "kernelFilePath_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"cities", ",", "transitionsMatrix"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cities", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", 
          RowBox[{"#", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "&"}], "/@", 
       RowBox[{"Import", "[", "coordinatesFilePath", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"transitionsMatrix", "=", 
      RowBox[{
       RowBox[{"Import", "[", "kernelFilePath", "]"}], "[", 
       RowBox[{"[", 
        RowBox[{"1", ";;", "All"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"cities", ",", "transitionsMatrix"}], "}"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddTotalPopulationToDataset", "[", "dataset_", "]"}], ":=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"Append", "[", 
       RowBox[{"#", ",", 
        RowBox[{"Total", "[", "#", "]"}]}], "]"}], "&"}], "/@", 
     RowBox[{"dataset", "[", 
      RowBox[{"[", "i", "]"}], "]"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", 
      RowBox[{"Length", "[", "dataset", "]"}]}], "}"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AggregatePopulationByGenotypeIndices", "[", 
   RowBox[{"populationDatasets_", ",", "genotypesIndicesToAggregate_"}], 
   "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"popsDatasets", ",", "geneLabels"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"popsDatasets", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"Transpose", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Total", "/@", 
            RowBox[{"populationDatasets", "[", 
             RowBox[{"[", 
              RowBox[{"i", ",", "All", ",", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}]}], "&"}], "/@",
           "genotypesIndicesToAggregate"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"Length", "[", "populationDatasets", "]"}]}], "}"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"geneLabels", "=", 
      RowBox[{"genotypesIndicesToAggregate", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", "1"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"geneLabels", ",", 
       RowBox[{"AddTotalPopulationToDataset", "[", "popsDatasets", "]"}]}], 
      "}"}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "AggregatePopulationAcrossNodes", "[", "aggregatedPopulations_", "]"}], ":=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{"Total", "/@", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"aggregatedPopulations", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "i"}], "]"}], "]"}], "//", "Transpose"}], 
      ")"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", "1", ",", 
      RowBox[{"Length", "[", 
       RowBox[{"aggregatedPopulations", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "]"}]}], "}"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GeneratePopCountsFrames", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"labels_", ",", "colors_"}], "}"}], ",", 
    "subsetPopulationsAccrossNodes_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"styledLabels", ",", "styledNumbers", ",", "gridFrames"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"styledLabels", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{"#", ",", "30"}], "]"}], "&"}], "/@", "labels"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"styledNumbers", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
            RowBox[{"Round", "[", "#", "]"}], ",", "30", ",", "Gray"}], "]"}],
           "&"}], "/@", 
         RowBox[{"Threshold", "[", 
          RowBox[{"i", ",", 
           RowBox[{"{", 
            RowBox[{"\"\<Hard\>\"", ",", 
             SuperscriptBox["10", 
              RowBox[{"-", "1"}]]}], "}"}]}], "]"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "subsetPopulationsAccrossNodes"}], "}"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"gridFrames", "=", 
      RowBox[{"Table", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Grid", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"styledLabels", ",", 
             RowBox[{"styledNumbers", "[", 
              RowBox[{"[", "i", "]"}], "]"}]}], "}"}], "//", "Transpose"}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"Frame", "\[Rule]", "True"}], ",", "\[IndentingNewLine]", 
          RowBox[{"FrameStyle", "\[Rule]", "Thick"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"ItemSize", "\[Rule]", "32.5"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Background", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{"None", ",", 
             RowBox[{
              RowBox[{
               RowBox[{"Opacity", "[", 
                RowBox[{".25", ",", "#"}], "]"}], "&"}], "/@", "colors"}]}], 
            "}"}]}], ",", "\[IndentingNewLine]", 
          RowBox[{"Alignment", "\[Rule]", "Center"}]}], "\[IndentingNewLine]",
          "]"}], "\[IndentingNewLine]", ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "1", ",", 
          RowBox[{"subsetPopulationsAccrossNodes", "//", "Length"}]}], 
         "}"}]}], "]"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"BarChartPopCountsFrames", "[", 
   RowBox[{"subsetPopulations_", ",", 
    RowBox[{"{", 
     RowBox[{"colors_", ",", "maxPop_", ",", "frameDimensions_"}], "}"}]}], 
   "]"}], ":=", 
  RowBox[{"BarChart", "[", 
   RowBox[{
    RowBox[{"subsetPopulations", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", 
       RowBox[{"1", ";;", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Length", "[", "labels", "]"}], "-", "1"}], ")"}]}]}], 
      "]"}], "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"ChartLayout", "\[Rule]", "\"\<Stacked\>\""}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"ChartStyle", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"EdgeForm", "[", "None", "]"}], ",", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "1", "]"}], ",", "#"}], "]"}], "&"}], "/@",
          "colors"}], " ", ")"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"Frame", "\[Rule]", "False"}], ",", "\[IndentingNewLine]", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{".5", ",", 
         RowBox[{
          RowBox[{"Length", "[", "subsetPopulations", "]"}], "+", ".5"}]}], 
        "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "maxPop"}], "}"}]}], "}"}]}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Axes", "\[Rule]", "False"}], ",", "\[IndentingNewLine]", 
    RowBox[{"PerformanceGoal", "\[Rule]", "\"\<Speed\>\""}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"BarSpacing", "\[Rule]", ".1"}], ",", "\[IndentingNewLine]", 
    RowBox[{"ImagePadding", "\[Rule]", "0"}], ",", "\[IndentingNewLine]", 
    RowBox[{"AspectRatio", "\[Rule]", 
     RowBox[{"1", "/", "5"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"BarOrigin", "\[Rule]", "Top"}], ",", "\[IndentingNewLine]", 
    RowBox[{"PlotRangePadding", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}], ",", "\[IndentingNewLine]", 
    RowBox[{"ImageSize", "\[Rule]", 
     RowBox[{"frameDimensions", "[", 
      RowBox[{"[", "1", "]"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"BarChartPopDynamicsFrames", "[", 
   RowBox[{"tick_", ",", "aggregatedPopulationsAcrossNodes_", ",", 
    RowBox[{"{", 
     RowBox[{
     "colors_", ",", "maxPop_", ",", "ticksMax_", ",", "frameDimensions_", 
      ",", "labels_"}], "}"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "dataUntilTick", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"dataUntilTick", "=", 
      RowBox[{
       RowBox[{"aggregatedPopulationsAcrossNodes", "[", 
        RowBox[{"[", 
         RowBox[{"1", ";;", "tick"}], "]"}], "]"}], "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", 
         RowBox[{"1", ";;", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Length", "[", "labels", "]"}], "-", "1"}], ")"}]}]}], 
        "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"BarChart", "[", 
      RowBox[{"dataUntilTick", ",", "\[IndentingNewLine]", 
       RowBox[{"ChartLayout", "\[Rule]", "\"\<Stacked\>\""}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"ChartStyle", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"EdgeForm", "[", "None", "]"}], ",", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"Directive", "[", 
              RowBox[{
               RowBox[{"Opacity", "[", "1", "]"}], ",", "#"}], "]"}], "&"}], "/@",
             "colors"}], " ", ")"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"Frame", "\[Rule]", "False"}], ",", "\[IndentingNewLine]", 
       RowBox[{"PlotRange", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"0", ",", "ticksMax"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"0", ",", "maxPop"}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Axes", "\[Rule]", "False"}], ",", "\[IndentingNewLine]", 
       RowBox[{"PerformanceGoal", "\[Rule]", "\"\<Speed\>\""}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"BarSpacing", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"ImagePadding", "\[Rule]", "0"}], ",", "\[IndentingNewLine]", 
       RowBox[{"AspectRatio", "\[Rule]", 
        RowBox[{"1", "/", "7.5"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"BarOrigin", "\[Rule]", "Bottom"}], ",", "\[IndentingNewLine]", 
       RowBox[{"PlotRangePadding", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{"0", ",", "0"}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"ImageSize", "\[Rule]", 
        RowBox[{"frameDimensions", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}],
    "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ExportFrames", "[", 
   RowBox[{"plots_", ",", "dataRange_", ",", 
    RowBox[{"{", 
     RowBox[{"outputBasePath_", ",", "outputFolder_", ",", "filesBaseName_"}],
      "}"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"namesStrings", ",", "pathsStrings"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"namesStrings", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"filesBaseName", "<>", 
          RowBox[{"StringPadLeft", "[", 
           RowBox[{
            RowBox[{"ToString", "[", "#", "]"}], ",", "6", ",", "\"\<0\>\""}],
            "]"}], "<>", "\"\<.png\>\""}], ")"}], "&"}], "/@", 
       RowBox[{"Range", "[", 
        RowBox[{
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"pathsStrings", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"outputBasePath", "<>", "outputFolder", "<>", "#"}], ")"}], 
        "&"}], "/@", "namesStrings"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Export", "[", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], "/@", 
      RowBox[{"Transpose", "[", 
       RowBox[{"{", 
        RowBox[{"pathsStrings", ",", "plots"}], "}"}], "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"BarChartPopDynamicsMaskFrames", "[", 
   RowBox[{"fullRaster_", ",", 
    RowBox[{"{", 
     RowBox[{"tick_", ",", "ticksMax_"}], "}"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"rasterDimensions", ",", "stepSize", ",", "composedImage", ",", 
      RowBox[{"day", "=", "tick"}]}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"rasterDimensions", "=", 
      RowBox[{"ImageDimensions", "[", "fullRaster", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"stepSize", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"rasterDimensions", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "/", "ticksMax"}], "//", "N"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"composedImage", "=", 
      RowBox[{"ImageCompose", "[", "\[IndentingNewLine]", 
       RowBox[{"fullRaster", ",", "\[IndentingNewLine]", 
        RowBox[{"Graphics", "[", 
         RowBox[{
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{"Black", ",", 
            RowBox[{"Opacity", "[", "0", "]"}], ",", 
            RowBox[{"Rectangle", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"rasterDimensions", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", 
                RowBox[{"rasterDimensions", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], "]"}], ",", 
            "\[IndentingNewLine]", "White", ",", 
            RowBox[{"Opacity", "[", "1", "]"}], ",", 
            RowBox[{"Rectangle", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"day", "*", "stepSize"}], ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"day", "*", "stepSize"}], "+", 
                 RowBox[{"1", "*", "stepSize"}]}], ",", 
                RowBox[{"rasterDimensions", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], "]"}], ",", 
            "\[IndentingNewLine]", "White", ",", 
            RowBox[{"Opacity", "[", ".75", "]"}], ",", 
            RowBox[{"Rectangle", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 RowBox[{"day", "*", "stepSize"}], "+", 
                 RowBox[{"1", "*", "stepSize", "*", "stepSize"}]}], ",", 
                "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"rasterDimensions", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], ",", 
                RowBox[{"rasterDimensions", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], "]"}]}], 
           "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"ImageSize", "\[Rule]", 
           RowBox[{"rasterDimensions", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
          RowBox[{"AspectRatio", "\[Rule]", 
           RowBox[{"1", "/", "5"}]}], ",", "\[IndentingNewLine]", 
          RowBox[{"ImagePadding", "\[Rule]", "None"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"ImageMargins", "\[Rule]", "0"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"PlotRangePadding", "\[Rule]", "None"}]}], 
         "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"EdgesStyleList2", "[", 
   RowBox[{"vertexSyllableList_", ",", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{
    RowBox[{"OptionValue", "[", "VariableStyle", "]"}], ",", 
    "\[IndentingNewLine]", "\"\<LineColor\>\"", ",", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"DirectedEdge", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Opacity", "[", 
          RowBox[{"1", "*", 
           RowBox[{
            RowBox[{"vertexSyllableList", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], "]"}], ",", 
         RowBox[{"Thickness", "[", 
          RowBox[{"OptionValue", "[", "LineThickness", "]"}], "]"}]}], 
        "}"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "vertexSyllableList", "]"}]}], "}"}]}], "]"}], 
    ",", "\[IndentingNewLine]", "\"\<LineWidth\>\"", ",", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"DirectedEdge", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Opacity", "[", ".5", "]"}], ",", "Black", ",", 
         RowBox[{"Thickness", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"vertexSyllableList", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}], "*", 
           RowBox[{"OptionValue", "[", "LineThickness", "]"}]}], "]"}]}], 
        "}"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "vertexSyllableList", "]"}]}], "}"}]}], "]"}], 
    ",", "\[IndentingNewLine]", "\"\<Both\>\"", ",", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"DirectedEdge", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "\[Rule]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Opacity", "[", 
          RowBox[{
           RowBox[{".75", "*", 
            RowBox[{
             RowBox[{"vertexSyllableList", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], "+", ".05"}], "]"}], ",", 
         RowBox[{"Thickness", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"vertexSyllableList", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}], "*", 
           RowBox[{"OptionValue", "[", "LineThickness", "]"}]}], "]"}]}], 
        "}"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "vertexSyllableList", "]"}]}], "}"}]}], "]"}], 
    ",", "_", ",", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"DirectedEdge", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"vertexSyllableList", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}], "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"Thickness", "[", 
         RowBox[{"OptionValue", "[", "LineThickness", "]"}], "]"}], "}"}]}], 
      ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "vertexSyllableList", "]"}]}], "}"}]}], 
     "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"edgeshape", "[", 
   RowBox[{"e_", ",", "___"}], "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"Arrowheads", "[", 
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{".0001", ",", ".5"}], "}"}], "}"}], "]"}], ",", 
    RowBox[{"Arrow", "[", "e", "]"}]}], "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Options", "[", "GraphTransitionsFrequenciesWithMax", "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"ImagePadding", "\[Rule]", "None"}], ",", 
    RowBox[{"Background", "\[Rule]", "White"}], ",", 
    RowBox[{"VertexStyle", "\[Rule]", "Automatic"}], ",", 
    RowBox[{"VertexCoordinates", "\[Rule]", "Automatic"}], ",", 
    RowBox[{"LineThickness", "\[Rule]", ".0005"}], ",", 
    RowBox[{"VariableStyle", "\[Rule]", "\"\<Both\>\""}], ",", 
    RowBox[{"GraphLayout", "\[Rule]", "Automatic"}], ",", 
    RowBox[{"ImageSize", "\[Rule]", "Automatic"}], ",", 
    RowBox[{"VertexSize", "\[Rule]", ".5"}], ",", 
    RowBox[{"EdgeShapeFunction", "\[Rule]", "edgeshape"}], ",", 
    RowBox[{"VertexLabelStyle", "\[Rule]", 
     RowBox[{"{", "Italic", "}"}]}], ",", 
    RowBox[{"Prolog", "\[Rule]", 
     RowBox[{"{", "}"}]}], ",", 
    RowBox[{"Epilog", "\[Rule]", 
     RowBox[{"{", "}"}]}], ",", 
    RowBox[{"VertexShape", "\[Rule]", "Automatic"}]}], "}"}]}], "\n", 
 RowBox[{
  RowBox[{"GraphTransitionsFrequenciesWithMax", "[", 
   RowBox[{"frequenciesOutput_", ",", "max_", ",", 
    RowBox[{"OptionsPattern", "[", "]"}]}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "frequencies", ",", "syllables", ",", "edges", ",", "fixedEdgesList", 
      ",", "vertexSyllableList", ",", "normalizedVertexSyllableList", ",", 
      "edgesStyleList", ",", "links"}], "}"}], ",", 
    RowBox[{
     RowBox[{"frequencies", "=", 
      RowBox[{"frequenciesOutput", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"syllables", "=", 
      RowBox[{"frequenciesOutput", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"edges", "=", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"DirectedEdge", "[", 
           RowBox[{"i", ",", "j"}], "]"}], "\[Rule]", 
          RowBox[{"frequencies", "[", 
           RowBox[{"[", 
            RowBox[{"i", ",", "j"}], "]"}], "]"}]}], ",", 
         RowBox[{"{", 
          RowBox[{"i", ",", 
           RowBox[{"Length", "[", "syllables", "]"}]}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"j", ",", 
           RowBox[{"Length", "[", "syllables", "]"}]}], "}"}]}], "]"}], "//", 
       "Flatten"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"fixedEdgesList", "=", 
      RowBox[{"DeleteCases", "[", 
       RowBox[{"edges", ",", 
        RowBox[{
         RowBox[{"DirectedEdge", "[", 
          RowBox[{"_", ",", "_"}], "]"}], "\[Rule]", "0"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vertexSyllableList", "=", 
      RowBox[{"VertexNumberToVertexSyllable", "[", 
       RowBox[{
        RowBox[{"frequenciesOutput", "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", "fixedEdgesList"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"normalizedVertexSyllableList", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"DirectedEdge", "[", 
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{
             RowBox[{"#", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], "]"}], "\[Rule]", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "[", 
            RowBox[{"[", "2", "]"}], "]"}], "/", "max"}]}], "&"}], ")"}], "/@",
        "vertexSyllableList"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"edgesStyleList", "=", 
      RowBox[{"EdgesStyleList2", "[", 
       RowBox[{"normalizedVertexSyllableList", ",", 
        RowBox[{"LineThickness", "\[Rule]", 
         RowBox[{"OptionValue", "[", "LineThickness", "]"}]}], ",", 
        RowBox[{"VariableStyle", "\[Rule]", 
         RowBox[{"OptionValue", "[", "VariableStyle", "]"}]}]}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"links", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"DirectedEdge", "[", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", 
          RowBox[{"#", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "]"}], "&"}], "/@", 
       "vertexSyllableList"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Graph", "[", 
      RowBox[{"syllables", ",", "links", ",", "\[IndentingNewLine]", 
       RowBox[{"EdgeWeight", "\[Rule]", 
        RowBox[{"vertexSyllableList", "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", "2", ",", "2"}], "]"}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"VertexStyle", "\[Rule]", 
        RowBox[{"OptionValue", "[", "VertexStyle", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"EdgeStyle", "\[Rule]", "edgesStyleList"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"VertexCoordinates", "\[Rule]", 
        RowBox[{"OptionValue", "[", "VertexCoordinates", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"ImageSize", "\[Rule]", 
        RowBox[{"OptionValue", "[", "ImageSize", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"GraphLayout", "\[Rule]", 
        RowBox[{"OptionValue", "[", "GraphLayout", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"EdgeShapeFunction", "\[Rule]", 
        RowBox[{"OptionValue", "[", "EdgeShapeFunction", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"VertexShape", "\[Rule]", 
        RowBox[{"OptionValue", "[", "VertexShape", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"VertexSize", "\[Rule]", 
        RowBox[{"OptionValue", "[", "VertexSize", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"VertexLabelStyle", "\[Rule]", 
        RowBox[{"OptionValue", "[", "VertexLabelStyle", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"VertexLabels", "\[Rule]", 
        RowBox[{"Placed", "[", 
         RowBox[{"\"\<Name\>\"", ",", "Center"}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"EdgeLabels", "\[Rule]", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"links", "[", 
            RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", 
           RowBox[{"Placed", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"fixedEdgesList", "[", 
               RowBox[{"[", 
                RowBox[{"All", ",", "2"}], "]"}], "]"}], "[", 
              RowBox[{"[", "i", "]"}], "]"}], ",", "Tooltip"}], "]"}]}], ",", 
          
          RowBox[{"{", 
           RowBox[{"i", ",", 
            RowBox[{"Length", "[", "links", "]"}]}], "}"}]}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Prolog", "\[Rule]", 
        RowBox[{"OptionValue", "[", "Prolog", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Epilog", "\[Rule]", 
        RowBox[{"OptionValue", "[", "Epilog", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Background", "\[Rule]", 
        RowBox[{"OptionValue", "[", "Background", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"ImagePadding", "\[Rule]", 
        RowBox[{"OptionValue", "[", "ImagePadding", "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"PerformanceGoal", "\[Rule]", "\"\<Speed\>\""}]}], 
      "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"CalculateNetworkParameters", "[", 
   RowBox[{"cities_", ",", "transitionsMatrix_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "range", ",", "transitionsMatrix2", ",", "vertexCoordinates", ",", 
      "transMatrix"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"range", "=", 
      RowBox[{"Range", "[", 
       RowBox[{"cities", "//", "Length"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"transitionsMatrix2", "=", 
      RowBox[{"{", 
       RowBox[{"transitionsMatrix", ",", 
        RowBox[{"ToString", "/@", "range"}]}], "}"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vertexCoordinates", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", 
          RowBox[{"#", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "&"}], "/@", "cities"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"transMatrix", "=", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"ReplacePart", "[", 
         RowBox[{
          RowBox[{"Chop", "[", 
           RowBox[{
            RowBox[{"transitionsMatrix2", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "//", "UpperTriangularize"}], 
           "]"}], ",", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"i_", ",", "i_"}], "}"}], "\[Rule]", "0"}]}], "]"}], ",", 
        
        RowBox[{"transitionsMatrix2", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "}"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"range", ",", "transMatrix", ",", "vertexCoordinates"}], 
      "}"}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GenerateNetworkFrames", "[", 
   RowBox[{"vertexShapeAndSizeFrames_", ",", 
    RowBox[{"{", 
     RowBox[{"vertexCoordinates_", ",", "networkMatrix_"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
     "edgeThreshold_", ",", "lineThickness_", ",", "frameDimensions_"}], 
     "}"}], ",", "countryMap_", ",", "colorPalette_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"GraphTransitionsFrequenciesWithMax", "[", 
     RowBox[{
     "networkMatrix", ",", "edgeThreshold", ",", "\[IndentingNewLine]", 
      RowBox[{"VertexCoordinates", "\[Rule]", "vertexCoordinates"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"LineThickness", "\[Rule]", "lineThickness"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"VertexShape", "\[Rule]", 
       RowBox[{"vertexShapeAndSizeFrames", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"VertexSize", "\[Rule]", 
       RowBox[{"vertexShapeAndSizeFrames", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"VariableStyle", "\[Rule]", "\"\<LineColor\>\""}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"VertexLabelStyle", "\[Rule]", 
       RowBox[{"Directive", "[", 
        RowBox[{"Red", ",", "Italic", ",", 
         RowBox[{"Opacity", "[", "0", "]"}]}], "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"ImageSize", "\[Rule]", 
       RowBox[{"frameDimensions", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"Prolog", "\[Rule]", "\[IndentingNewLine]", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "1.0", "]"}], ",", 
            RowBox[{"Thickness", "[", ".065", "]"}], ",", 
            RowBox[{"Darker", "[", 
             RowBox[{
              RowBox[{"colorPalette", "[", 
               RowBox[{"[", "5", "]"}], "]"}], ",", ".125"}], "]"}]}], "]"}], 
          "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "5", "]"}], "]"}], ",", 
         RowBox[{"countryMap", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "1.0", "]"}], ",", 
            RowBox[{"Thickness", "[", ".025", "]"}], ",", 
            RowBox[{"colorPalette", "[", 
             RowBox[{"[", "5", "]"}], "]"}]}], "]"}], "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "3", "]"}], "]"}], ",", 
         RowBox[{"countryMap", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "0.6", "]"}], ",", 
            RowBox[{"Thickness", "[", ".045", "]"}], ",", 
            RowBox[{"Lighter", "[", 
             RowBox[{
              RowBox[{"colorPalette", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", ".5"}], "]"}]}], "]"}], 
          "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "5", "]"}], "]"}], ",", 
         RowBox[{"countryMap", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], "\[IndentingNewLine]", "}"}]}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"ImagePadding", "\[Rule]", "500"}]}], "\[IndentingNewLine]", 
     "]"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ParseFilenames", "[", 
   RowBox[{"tick_", ",", 
    RowBox[{"{", 
     RowBox[{"outputFolder_", ",", 
      RowBox[{"{", 
       RowBox[{
       "outputPopCounts_", ",", "outputBarCharts_", ",", "outputFlow_", ",", 
        "outputNetworks_"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
       "baseCounts_", ",", "baseDays_", ",", "baseBarCharts_", ",", 
        "basePopDyn_", ",", "baseNetworks_"}], "}"}]}], "}"}]}], "]"}], ":=", 
  
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"paddedNumber", ",", "rastersFolders", ",", "rastersNames"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"paddedNumber", "=", 
      RowBox[{"StringPadLeft", "[", 
       RowBox[{
        RowBox[{"ToString", "[", "tick", "]"}], ",", "6", ",", "\"\<0\>\""}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rastersFolders", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"outputFolder", "<>", "#"}], ")"}], "&"}], "/@", 
       RowBox[{"{", 
        RowBox[{
        "outputPopCounts", ",", "outputBarCharts", ",", "outputFlow", ",", 
         "outputNetworks"}], "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rastersNames", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"#", "<>", "paddedNumber", "<>", "\"\<.png\>\""}], ")"}], 
        "&"}], "/@", 
       RowBox[{"{", 
        RowBox[{
        "baseCounts", ",", "baseDays", ",", "baseBarCharts", ",", 
         "basePopDyn", ",", "baseNetworks"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"rastersFolders", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "<>", 
        RowBox[{"rastersNames", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"rastersFolders", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "<>", 
        RowBox[{"rastersNames", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"rastersFolders", "[", 
         RowBox[{"[", "2", "]"}], "]"}], "<>", 
        RowBox[{"rastersNames", "[", 
         RowBox[{"[", "3", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"rastersFolders", "[", 
         RowBox[{"[", "3", "]"}], "]"}], "<>", 
        RowBox[{"rastersNames", "[", 
         RowBox[{"[", "4", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"rastersFolders", "[", 
         RowBox[{"[", "4", "]"}], "]"}], "<>", 
        RowBox[{"rastersNames", "[", 
         RowBox[{"[", "5", "]"}], "]"}]}]}], "\[IndentingNewLine]", "}"}]}]}],
    "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SubsetPopulations", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "aggregatedPopulations_", ",", "aggregatedPopulationsAcrossNodes_"}], 
     "}"}], ",", "dataRange_"}], "]"}], ":=", 
  RowBox[{"{", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"aggregatedPopulations", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", 
        RowBox[{
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ";;", 
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}]}], "]"}], "]"}], "//", 
     "Transpose"}], ",", "\[IndentingNewLine]", 
    RowBox[{"aggregatedPopulationsAcrossNodes", "[", 
     RowBox[{"[", 
      RowBox[{
       RowBox[{"dataRange", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ";;", 
       RowBox[{"dataRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}]}], 
   "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GeneratePieChartsAtTick", "[", 
   RowBox[{"subsetPopulation_", ",", "labels_", ",", "maxPop_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "chartAndPop", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"chartAndPop", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"PieChart", "[", 
           RowBox[{"#", "\[IndentingNewLine]", ",", 
            RowBox[{"ChartStyle", "\[Rule]", "colors"}], 
            "\[IndentingNewLine]", ",", 
            RowBox[{"BaseStyle", "\[Rule]", 
             RowBox[{"Directive", "[", 
              RowBox[{"EdgeForm", "[", 
               RowBox[{"Thickness", "[", ".075", "]"}], "]"}], "]"}]}], 
            "\[IndentingNewLine]", ",", 
            RowBox[{"ColorFunction", "\[Rule]", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"EdgeForm", "[", "Black", "]"}], "&"}], ")"}]}], 
            "\[IndentingNewLine]", ",", 
            RowBox[{"PerformanceGoal", "\[Rule]", "\"\<Speed\>\""}], 
            "\[IndentingNewLine]", ",", 
            RowBox[{"ImagePadding", "\[Rule]", "1"}]}], "\[IndentingNewLine]",
            "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Total", "[", "#", "]"}]}], "\[IndentingNewLine]", "}"}], 
        "&"}], "/@", 
       RowBox[{"(", 
        RowBox[{"subsetPopulation", "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", 
           RowBox[{"1", ";;", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"Length", "[", "labels", "]"}], "-", "1"}], ")"}]}]}], 
          "]"}], "]"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"N", "[", 
          RowBox[{"Sqrt", "[", 
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "2", "]"}], "]"}], "/", "maxPop"}], "]"}], "]"}]}], 
        "}"}], "&"}], "/@", "chartAndPop"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GenerateNetworkFrames", "[", 
   RowBox[{"vertexShapeAndSizeFrames_", ",", 
    RowBox[{"{", 
     RowBox[{"vertexCoordinates_", ",", "networkMatrix_"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
     "edgeThreshold_", ",", "lineThickness_", ",", "frameDimensions_"}], 
     "}"}], ",", "countryMap_", ",", "colorPalette_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"GraphTransitionsFrequenciesWithMax", "[", 
     RowBox[{
     "networkMatrix", ",", "edgeThreshold", ",", "\[IndentingNewLine]", 
      RowBox[{"VertexCoordinates", "\[Rule]", "vertexCoordinates"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"LineThickness", "\[Rule]", "lineThickness"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"VertexShape", "\[Rule]", 
       RowBox[{"vertexShapeAndSizeFrames", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"VertexSize", "\[Rule]", 
       RowBox[{"vertexShapeAndSizeFrames", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"VariableStyle", "\[Rule]", "\"\<LineColor\>\""}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"VertexLabelStyle", "\[Rule]", 
       RowBox[{"Directive", "[", 
        RowBox[{"Red", ",", "Italic", ",", 
         RowBox[{"Opacity", "[", "0", "]"}]}], "]"}]}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"ImageSize", "\[Rule]", 
       RowBox[{"frameDimensions", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"Prolog", "\[Rule]", "\[IndentingNewLine]", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "0.5", "]"}], ",", 
            RowBox[{"Thickness", "[", ".05", "]"}], ",", 
            RowBox[{"Darker", "[", 
             RowBox[{
              RowBox[{"colorPalette", "[", 
               RowBox[{"[", "5", "]"}], "]"}], ",", ".25"}], "]"}]}], "]"}], 
          "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "5", "]"}], "]"}], ",", 
         RowBox[{"countryMap", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "1.0", "]"}], ",", 
            RowBox[{"Thickness", "[", ".0075", "]"}], ",", 
            RowBox[{"colorPalette", "[", 
             RowBox[{"[", "5", "]"}], "]"}]}], "]"}], "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "3", "]"}], "]"}], ",", 
         RowBox[{"countryMap", "[", 
          RowBox[{"[", "2", "]"}], "]"}], ",", "\[IndentingNewLine]", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "0", "]"}], ",", 
            RowBox[{"Thickness", "[", ".025", "]"}], ",", 
            RowBox[{"Lighter", "[", 
             RowBox[{
              RowBox[{"colorPalette", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", ".5"}], "]"}]}], "]"}], 
          "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "5", "]"}], "]"}], ",", 
         RowBox[{"countryMap", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], "\[IndentingNewLine]", "}"}]}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"ImagePadding", "\[Rule]", "225"}]}], "\[IndentingNewLine]", 
     "]"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"CalculateVertexScalers", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"range_", ",", "nodeScaler_"}], "}"}], ",", 
    "scaledSizesPieChartFramesAtFrame_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"vertexShapes", ",", "vertexSizes"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"vertexShapes", "=", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"ToString", "[", 
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "]"}], "\[Rule]", 
           RowBox[{"#", "[", 
            RowBox[{"[", 
             RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "}"}], "&"}], "/@", 
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{"range", ",", "scaledSizesPieChartFramesAtFrame"}], "}"}], 
         "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vertexSizes", "=", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"ToString", "[", 
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "]"}], "\[Rule]", 
           RowBox[{"nodeScaler", "*", 
            RowBox[{"#", "[", 
             RowBox[{"[", 
              RowBox[{"2", ",", "2"}], "]"}], "]"}]}]}], "}"}], "&"}], "/@", 
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{"range", ",", "scaledSizesPieChartFramesAtFrame"}], "}"}], 
         "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"vertexShapes", ",", "vertexSizes"}], "}"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Sigmoid", "[", "x_", "]"}], ":=", 
  FractionBox["1", 
   RowBox[{"1", "+", 
    SuperscriptBox["\[ExponentialE]", 
     RowBox[{
      RowBox[{
       RowBox[{"-", "5"}], "x"}], "+", 
      "1.75"}]]}]]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GenerateAnimationFrameFromFiles", "[", "fileNameTuple_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "popCount", ",", "dayCount", ",", "barChart", ",", "flow", ",", 
      "network", ",", "row"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "popCount", ",", "dayCount", ",", "barChart", ",", "flow", ",", 
        "network"}], "}"}], "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Import", "[", "#", "]"}], "&"}], "/@", "fileNameTuple"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"row", "=", 
      RowBox[{"Grid", "[", 
       RowBox[{"{", 
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"ImageRotate", "[", 
            RowBox[{"barChart", ",", 
             RowBox[{"90", "Degree"}]}], "]"}], "//", 
           RowBox[{
            RowBox[{"Show", "[", 
             RowBox[{"#", ",", 
              RowBox[{"ImageSize", "\[Rule]", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"512", "*", "1.8"}], ",", 
                 RowBox[{"2560", "*", "1.8"}]}], "}"}]}]}], "]"}], "&"}]}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"network", "//", 
           RowBox[{
            RowBox[{"Show", "[", 
             RowBox[{"#", ",", 
              RowBox[{"ImageSize", "\[Rule]", "2560"}]}], "]"}], "&"}]}], ",",
           "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"dayCount", "//", 
             RowBox[{
              RowBox[{"Show", "[", "#", "]"}], "&"}]}], ","}], "*)"}], 
          "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"popCount", "//", 
             RowBox[{
              RowBox[{"Show", "[", 
               RowBox[{"#", ",", 
                RowBox[{"ImageSize", "\[Rule]", 
                 RowBox[{"{", 
                  RowBox[{"512", ",", "2560"}], "}"}]}]}], "]"}], "&"}]}], 
            ","}], "*)"}], "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"ImageRotate", "[", 
            RowBox[{"flow", ",", 
             RowBox[{"90", "Degree"}]}], "]"}], "//", 
           RowBox[{
            RowBox[{"Show", "[", 
             RowBox[{"#", ",", 
              RowBox[{"ImageSize", "\[Rule]", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"341", "*", "1.8"}], ",", 
                 RowBox[{"2560", "*", "1.8"}]}], "}"}]}]}], "]"}], "&"}]}]}], 
         "\[IndentingNewLine]", "}"}], "}"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Rasterize", "[", "row", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.728326943204558*^9, 3.728327114790044*^9}, {
   3.7283272648424253`*^9, 3.7283272803599157`*^9}, {3.728329176816496*^9, 
   3.728329186251896*^9}, {3.7283292309477243`*^9, 3.72832928121644*^9}, {
   3.728332687448422*^9, 3.728332755146597*^9}, {3.728332968811112*^9, 
   3.728333053636868*^9}, {3.728333341955595*^9, 3.7283333775064583`*^9}, {
   3.7283334846160717`*^9, 3.72833355756535*^9}, {3.72833372522782*^9, 
   3.72833377344144*^9}, {3.728333815149301*^9, 3.728333853811116*^9}, {
   3.7283342766942673`*^9, 3.7283342813990593`*^9}, {3.7283343120592318`*^9, 
   3.728334335988242*^9}, {3.72833437345467*^9, 3.72833443150733*^9}, {
   3.7283344957065897`*^9, 3.728334508239711*^9}, {3.728336807601453*^9, 
   3.728336807824024*^9}, {3.728392175955579*^9, 3.728392181500003*^9}, {
   3.728392650641917*^9, 3.728392744336775*^9}, {3.728393502036488*^9, 
   3.728393516231666*^9}, {3.7283936790112333`*^9, 3.728393687052297*^9}, {
   3.728393923795252*^9, 3.728393927629265*^9}, {3.728394308030793*^9, 
   3.728394309900206*^9}, {3.7283955451991863`*^9, 3.7283955639357862`*^9}, {
   3.728395634531886*^9, 3.728395644298649*^9}, {3.728395690875722*^9, 
   3.7283957323207617`*^9}, {3.728397191053947*^9, 3.728397191226152*^9}, {
   3.7284175449422293`*^9, 3.72841755694671*^9}, {3.7284176804122553`*^9, 
   3.728417695614478*^9}, {3.728490669498444*^9, 3.728490669658291*^9}, {
   3.728490724021783*^9, 3.7284907263816977`*^9}, {3.728491377190771*^9, 
   3.7284913818604918`*^9}, {3.728492374620162*^9, 3.72849237609617*^9}, {
   3.728492418329426*^9, 3.728492432190857*^9}, {3.728492463991137*^9, 
   3.728492504602594*^9}, 3.728492560225277*^9, {3.728494412114482*^9, 
   3.728494432060635*^9}, {3.728495684623972*^9, 3.7284956847924843`*^9}, {
   3.728495951775135*^9, 3.72849596304009*^9}, {3.7284959992402687`*^9, 
   3.7284960085779448`*^9}, {3.7284962381122227`*^9, 3.728496239144088*^9}, {
   3.728496355700532*^9, 3.7284963583269377`*^9}, {3.728496679578823*^9, 
   3.728496681236289*^9}, {3.728496749267359*^9, 3.728496816877953*^9}, {
   3.72849691521812*^9, 3.728496945731598*^9}, {3.72849702332996*^9, 
   3.728497040161008*^9}, {3.72849707484895*^9, 3.728497095804656*^9}, {
   3.728497243282737*^9, 3.728497269620007*^9}, {3.7284973370763617`*^9, 
   3.728497375480856*^9}, {3.728497484749133*^9, 3.728497525078752*^9}, {
   3.7284975765972*^9, 3.728497577468898*^9}, {3.728497614382655*^9, 
   3.728497617700654*^9}, {3.728497657301201*^9, 3.72849782285634*^9}, {
   3.728566744644655*^9, 3.728566751641177*^9}, {3.7285668117011843`*^9, 
   3.728566815731133*^9}, {3.7285668697570353`*^9, 3.728566879919052*^9}, {
   3.728567210423546*^9, 3.7285672106223297`*^9}, {3.728567410136145*^9, 
   3.728567412270812*^9}, {3.728567444867428*^9, 3.728567447531365*^9}, {
   3.728567569323874*^9, 3.728567570882004*^9}, {3.728569338028398*^9, 
   3.7285693382509823`*^9}, {3.728601447986496*^9, 3.728601448210157*^9}, 
   3.728603740698246*^9, {3.728604051762437*^9, 3.728604059042494*^9}, {
   3.728604297228775*^9, 3.728604298531534*^9}, {3.72860469179161*^9, 
   3.728604697668621*^9}, {3.728604975321335*^9, 3.7286049760403967`*^9}, {
   3.728651715581881*^9, 3.728651721171255*^9}, {3.7286517707693377`*^9, 
   3.728651770939734*^9}, {3.7286518350080748`*^9, 3.728651836807536*^9}, {
   3.7286519961653748`*^9, 3.728652000785906*^9}, {3.7286520701302156`*^9, 
   3.728652072298835*^9}, {3.728652227671226*^9, 3.728652230625249*^9}, 
   3.728653064870328*^9, {3.7286541867581043`*^9, 3.72865419838766*^9}, {
   3.728654233333618*^9, 3.72865423658466*^9}, {3.728654328940135*^9, 
   3.728654331538333*^9}, {3.728656002469954*^9, 3.728656007521349*^9}, 
   3.728656424952304*^9, {3.728656780441863*^9, 3.7286567807531776`*^9}, {
   3.728658844391471*^9, 3.728658844600339*^9}, {3.728659462314067*^9, 
   3.7286594646801777`*^9}, {3.7286603949425583`*^9, 
   3.7286604149524727`*^9}, {3.7286627130644693`*^9, 3.728662713331821*^9}, {
   3.7286635997952547`*^9, 3.7286636048331957`*^9}, {3.7286649876409388`*^9, 
   3.728664990180373*^9}, {3.7286652977094517`*^9, 3.728665297922164*^9}, 
   3.728665349414633*^9, {3.728670388941141*^9, 3.728670389189889*^9}, {
   3.728672579472892*^9, 3.728672591205332*^9}, {3.728672937387883*^9, 
   3.728672942438286*^9}, {3.72867351022372*^9, 3.728673510488492*^9}, {
   3.7286751563643627`*^9, 3.728675156711937*^9}, {3.728749784180561*^9, 
   3.7287497947086906`*^9}, {3.728941219700539*^9, 3.7289412487710543`*^9}, {
   3.7289413709049397`*^9, 3.72894137108816*^9}, {3.7289957307726994`*^9, 
   3.728995750258235*^9}, {3.7289957921062593`*^9, 3.728995796482744*^9}, {
   3.728995864388196*^9, 3.728995865244946*^9}, {3.7289960117366457`*^9, 
   3.7289960135400553`*^9}, {3.728996091179722*^9, 3.728996092351349*^9}, {
   3.728996203812408*^9, 3.7289962346649103`*^9}, {3.728996353423512*^9, 
   3.728996353946418*^9}, {3.7289964313965178`*^9, 3.72899649377738*^9}, {
   3.728996589424657*^9, 3.72899659191605*^9}, {3.72900473321946*^9, 
   3.7290047402593937`*^9}, {3.7293716159852667`*^9, 3.729371627809873*^9}, {
   3.729371672768495*^9, 3.729371673031734*^9}, {3.7342080715909853`*^9, 
   3.73420807289825*^9}, {3.734208346589407*^9, 3.734208366333664*^9}, {
   3.734210090077914*^9, 3.734210091359962*^9}, {3.7342101353643847`*^9, 
   3.7342101359344263`*^9}, {3.734210251380414*^9, 3.734210251895784*^9}, {
   3.734269714119814*^9, 3.734269714822575*^9}, {3.734270260704543*^9, 
   3.7342702639824038`*^9}, {3.734270430233727*^9, 3.7342704399654007`*^9}, {
   3.7342733603008327`*^9, 3.734273363558859*^9}, {3.734273405815774*^9, 
   3.734273406125844*^9}, {3.73427587094564*^9, 3.734275894024432*^9}, {
   3.7342759556891336`*^9, 3.734275984083004*^9}, {3.734285669903448*^9, 
   3.734285685525669*^9}, {3.734285760810707*^9, 3.734285814469427*^9}, {
   3.73428586375909*^9, 3.73428588741812*^9}, {3.734285939158023*^9, 
   3.734285943069221*^9}, {3.7342860984310207`*^9, 3.7342861124284687`*^9}, {
   3.73428631825027*^9, 3.734286319145102*^9}, {3.734286565330502*^9, 
   3.734286577068767*^9}, {3.734286607633851*^9, 3.734286616963879*^9}, {
   3.7342867184017153`*^9, 3.734286788713895*^9}, {3.734286823756116*^9, 
   3.734286881393921*^9}, {3.734286913391274*^9, 3.734286923975189*^9}, {
   3.7342869568233013`*^9, 3.734287016165605*^9}, {3.734287443831655*^9, 
   3.7342874443486967`*^9}, {3.7342878089526453`*^9, 3.734287846226488*^9}, {
   3.734287882665246*^9, 3.734287911773333*^9}, {3.734288052262745*^9, 
   3.73428811541136*^9}, {3.734288264394292*^9, 3.734288275727902*^9}, {
   3.734288699589159*^9, 3.7342887299138393`*^9}, {3.734295339855228*^9, 
   3.734295339981558*^9}, {3.734295391942161*^9, 3.734295475387321*^9}, {
   3.734295541554476*^9, 3.7342955417356853`*^9}, {3.734295583454115*^9, 
   3.7342955835909224`*^9}, {3.7342961479601316`*^9, 3.734296148953084*^9}, {
   3.734693436004229*^9, 3.7346934372850313`*^9}, {3.7346938037648687`*^9, 
   3.734693804014476*^9}, {3.734696901288625*^9, 3.734696901528924*^9}, {
   3.734697256530102*^9, 3.734697256690959*^9}, {3.734697853804995*^9, 
   3.734697853992668*^9}, 3.734782931909737*^9, {3.734789397499786*^9, 
   3.7347894026209497`*^9}, {3.7348045123174763`*^9, 3.734804518861134*^9}, {
   3.7348901914480257`*^9, 3.734890227598303*^9}, {3.734890268150033*^9, 
   3.7348902778240747`*^9}, {3.734890369468336*^9, 3.734890413648508*^9}, {
   3.734890488834238*^9, 3.734890497945777*^9}, {3.734890546196209*^9, 
   3.734890546309627*^9}, {3.734890594179865*^9, 3.7348905990530653`*^9}, {
   3.734890759405241*^9, 3.734890766306468*^9}, {3.734897153837287*^9, 
   3.734897159021204*^9}, {3.734899095441427*^9, 3.7348991119035*^9}, {
   3.734899226295401*^9, 3.734899226452814*^9}, {3.734899338809841*^9, 
   3.734899339207191*^9}, {3.7348994031974993`*^9, 3.734899416396841*^9}, {
   3.7348994561162033`*^9, 3.734899466743032*^9}, {3.734899546561562*^9, 
   3.7348995507098217`*^9}, {3.734899644223077*^9, 3.734899656328453*^9}, {
   3.734899735406436*^9, 3.7348997427408*^9}, {3.734899781040889*^9, 
   3.7348997900295362`*^9}, {3.734899836835506*^9, 3.7348998638549557`*^9}, {
   3.7348999995327997`*^9, 3.734900002033124*^9}, {3.734900052007983*^9, 
   3.734900081258581*^9}},ExpressionUUID->"6bef33b5-033f-4d8b-aed7-\
63185bbfb214"]
}, Closed]],

Cell[CellGroupData[{

Cell["Load Data", "Chapter",
 CellChangeTimes->{{3.728567265596026*^9, 
  3.7285672694841337`*^9}},ExpressionUUID->"82785af7-1316-4a9c-b0ab-\
a724d40fb99f"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
   "Subset", " ", "datasets", " ", "to", " ", "export", " ", "a", " ", 
    "specific", " ", "set", " ", "of", " ", "frames"}], "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"framesRange", "=", 
     RowBox[{"{", 
      RowBox[{"5360", ",", "9050"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"User", "-", 
      RowBox[{
      "Defined", " ", "data", " ", "range", " ", "for", " ", "frames"}]}], 
     ",", " ", 
     RowBox[{"and", " ", "aesthetic", " ", "parameters"}]}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"genotypesIndicesToAggregate", "=", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"\"\<Wild (W)\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"1", ",", "1", ",", "2", ",", "3", ",", "4"}], "}"}]}], 
        "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"\"\<Homing (H)\>\"", ",", 
         RowBox[{"{", 
          RowBox[{"2", ",", "5", ",", "5", ",", "6", ",", "7"}], "}"}]}], 
        "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"\"\<Resistant (R+B)\>\"", ",", 
         RowBox[{"{", 
          RowBox[{
          "3", ",", "6", ",", "8", ",", "8", ",", "9", ",", "4", ",", "7", 
           ",", "9", ",", "10", ",", "10"}], "}"}]}], "}"}]}], 
      "\[IndentingNewLine]", "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "frameDimensions", ",", "scaler", ",", "resolution", ",", "colorScheme",
        ",", "nodeScaler"}], "}"}], "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"2560", ",", "1440"}], "}"}], ",", "3.5", ",", "500", ",", 
       "\"\<LakeColors\>\"", ",", "10"}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
    "Import", " ", "data", " ", "and", " ", "calculate", " ", "necessary", 
     " ", "values"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"maleDatasets", ",", "femaleDatasets"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"genotypes", ",", "ticksMax", ",", 
         RowBox[{"{", 
          RowBox[{"maleMax", ",", "femaleMax"}], "}"}]}], "}"}]}], "}"}], "=", 
     RowBox[{"ImportAndReshapeMosquitoDatasets", "[", 
      RowBox[{"\"\<./Replacement_D/0001/\>\"", ",", 
       RowBox[{"{", 
        RowBox[{"\"\<ADM\>\"", ",", "\"\<AF1\>\""}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"cities", ",", "transitionsMatrix"}], "}"}], "=", 
     RowBox[{"ImportGeoCoordinatesAndKernel", "[", 
      RowBox[{
      "\"\<./Madagascar_Coordinates.csv\>\"", ",", 
       "\"\<./Madagascar_Kernel.csv\>\""}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "outputFolder", ",", "outputBarCharts", ",", "outputFlow", ",", 
       "outputNetworks", ",", "outputPopCounts", ",", "outputFullFrames"}], 
      "}"}], "=", 
     RowBox[{"{", 
      RowBox[{
      "\"\<./RASTERS_Low\>\"", ",", "\"\</BarCharts/\>\"", ",", 
       "\"\</Flow/\>\"", ",", "\"\</Networks/\>\"", ",", 
       "\"\</PopCounts/\>\"", ",", "\"\</FullFrames/\>\""}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "baseCounts", ",", "baseDays", ",", "baseBarCharts", ",", "basePopDyn", 
       ",", "baseNetworks", ",", "baseFullFrames"}], "}"}], "=", 
     RowBox[{"{", 
      RowBox[{
      "\"\<PopCount\>\"", ",", "\"\<DayCount\>\"", ",", "\"\<BarCharts\>\"", 
       ",", "\"\<Flow\>\"", ",", "\"\<Networks\>\"", ",", 
       "\"\<FullFrame\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Range", "[", 
       RowBox[{"Length", "[", "genotypes", "]"}], "]"}], ",", "genotypes"}], 
     "}"}], "//", "Transpose"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Aggregate", " ", "dataset"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"totalPopulationDatasets", "=", 
     RowBox[{"(", 
      RowBox[{"maleDatasets", "+", "femaleDatasets"}], ")"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"aggregatedLabels", ",", "aggregatedPopulations"}], "}"}], "=", 
     
     RowBox[{"AggregatePopulationByGenotypeIndices", "[", 
      RowBox[{"totalPopulationDatasets", ",", "genotypesIndicesToAggregate"}],
       "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"aggregatedPopulationsAcrossNodes", "=", 
     RowBox[{
     "AggregatePopulationAcrossNodes", "[", "aggregatedPopulations", "]"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"labels", ",", "colors"}], "}"}], "=", 
     RowBox[{"GenerateColorPalette", "[", 
      RowBox[{"aggregatedLabels", ",", "colorScheme"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"maxPop", "=", 
     RowBox[{
      RowBox[{"aggregatedPopulationsAcrossNodes", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", 
         RowBox[{"Length", "[", "labels", "]"}]}], "]"}], "]"}], "//", 
      "Max"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Manual", " ", "Palette", " ", "Extension"}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"colors", "=", 
     RowBox[{"ReplacePart", "[", 
      RowBox[{"colors", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"6", "\[Rule]", 
          RowBox[{"Darker", "[", 
           RowBox[{"White", ",", ".05"}], "]"}]}], ",", 
         RowBox[{"7", "\[Rule]", 
          RowBox[{"Darker", "[", 
           RowBox[{"White", ",", ".15"}], "]"}]}]}], "}"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"originalColorsValues", "=", 
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"60", ",", "70", ",", "0", ",", "0"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"35", ",", "30", ",", "0", ",", "0"}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"40", ",", "60", ",", "0", ",", "0"}], "}"}]}], 
      "\[IndentingNewLine]", "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cmykColors", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"CMYKColor", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "/", "100"}], ",", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "2", "]"}], "]"}], "/", "100"}], ",", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "3", "]"}], "]"}], "/", "100"}], ",", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "4", "]"}], "]"}], "/", "100"}]}], "]"}], "&"}], "/@",
       "originalColorsValues"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"rgbColors", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"ColorConvert", "[", 
        RowBox[{"#", ",", 
         RowBox[{"\"\<CMYK\>\"", "\[Rule]", "\"\<RGB\>\""}]}], "]"}], "&"}], "/@",
       "cmykColors"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"colors", "=", 
    RowBox[{"Append", "[", 
     RowBox[{"rgbColors", ",", "Black"}], "]"}]}], "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Country", " ", "Map"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"countryName", "=", "\"\<Madagascar\>\""}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"countryPolygon", ",", "countrySchematicPolygon"}], "}"}], "=", 
     
     RowBox[{"{", 
      RowBox[{
       RowBox[{"CountryData", "[", 
        RowBox[{"countryName", ",", "\"\<Polygon\>\""}], "]"}], ",", 
       RowBox[{"CountryData", "[", 
        RowBox[{"countryName", ",", "\"\<SchematicPolygon\>\""}], "]"}]}], 
      "}"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.728327116636553*^9, 3.7283271552881823`*^9}, {
   3.7283272512471857`*^9, 3.728327255969289*^9}, {3.728329188329093*^9, 
   3.728329194008501*^9}, {3.728329305643834*^9, 3.728329319008731*^9}, 
   3.728329379102147*^9, {3.728332513706379*^9, 3.72833257962569*^9}, {
   3.7283327252458677`*^9, 3.728332729227261*^9}, {3.72833301730451*^9, 
   3.728333061195413*^9}, {3.728333228776382*^9, 3.728333275515081*^9}, {
   3.728333595498876*^9, 3.728333661192999*^9}, {3.728333716568172*^9, 
   3.728333723769451*^9}, {3.728333782006322*^9, 3.728333803182967*^9}, {
   3.728333878826664*^9, 3.728333885323452*^9}, {3.728334043653051*^9, 
   3.728334132378693*^9}, {3.72833428731177*^9, 3.728334288160462*^9}, {
   3.728334538162325*^9, 3.7283346102210197`*^9}, {3.728334831663128*^9, 
   3.728334885502347*^9}, {3.728336522312674*^9, 3.7283365225428553`*^9}, {
   3.7283368806208563`*^9, 3.728336929292889*^9}, {3.728336980191895*^9, 
   3.728336994391659*^9}, {3.728337027649765*^9, 3.7283370885146713`*^9}, {
   3.728337546621557*^9, 3.7283375469932823`*^9}, {3.7283377480304193`*^9, 
   3.728337820410749*^9}, {3.728337949843012*^9, 3.7283379599843693`*^9}, {
   3.728392198870007*^9, 3.728392199223555*^9}, {3.728392572540414*^9, 
   3.728392637142479*^9}, {3.728392796305211*^9, 3.7283928264515953`*^9}, {
   3.72839337459499*^9, 3.7283934209025106`*^9}, 3.728393465960044*^9, {
   3.728393790339261*^9, 3.728393791083682*^9}, 3.728393826311481*^9, {
   3.72839427116885*^9, 3.728394271753118*^9}, {3.7283946000196943`*^9, 
   3.728394622632185*^9}, {3.7283948241385517`*^9, 3.7283948325171022`*^9}, {
   3.7283948689795237`*^9, 3.7283948750359583`*^9}, {3.728395551762005*^9, 
   3.728395628918524*^9}, {3.7283956609441547`*^9, 3.728395667265305*^9}, {
   3.7283957513463297`*^9, 3.728395765904841*^9}, {3.7283967150665073`*^9, 
   3.7283967159069633`*^9}, {3.728396767748198*^9, 3.7283967696942577`*^9}, {
   3.7284129193236103`*^9, 3.728412919435519*^9}, {3.728413886074443*^9, 
   3.72841388615361*^9}, {3.728416373446579*^9, 3.728416373518409*^9}, {
   3.728416753904146*^9, 3.728416762841936*^9}, {3.7284168608700743`*^9, 
   3.728416861091811*^9}, {3.728416947552759*^9, 3.728416949861349*^9}, {
   3.7284170123474073`*^9, 3.728417031636009*^9}, {3.728417149713258*^9, 
   3.728417166533058*^9}, {3.7284176386605453`*^9, 3.728417646578332*^9}, {
   3.7284177027008047`*^9, 3.72841770500952*^9}, {3.7284177609543047`*^9, 
   3.7284177706955338`*^9}, {3.72841799346981*^9, 3.728417995767967*^9}, {
   3.728418041375952*^9, 3.728418045348707*^9}, {3.728418097369568*^9, 
   3.72841809762062*^9}, {3.728418131117367*^9, 3.728418132166346*^9}, {
   3.7284182240103407`*^9, 3.728418225677614*^9}, {3.728490522244253*^9, 
   3.7284905445192833`*^9}, {3.728490619399111*^9, 3.728490622820477*^9}, {
   3.728490747195004*^9, 3.728490786664576*^9}, {3.728490851811453*^9, 
   3.7284908605922832`*^9}, {3.728492623272765*^9, 3.72849263467437*^9}, {
   3.72849546808438*^9, 3.72849548157856*^9}, {3.728496408837493*^9, 
   3.728496412269315*^9}, {3.7284978605425386`*^9, 3.728497864002405*^9}, {
   3.7284979858638163`*^9, 3.728497991953371*^9}, {3.728566983613159*^9, 
   3.728566983711122*^9}, {3.728568515754961*^9, 3.7285685277053623`*^9}, {
   3.728568581920233*^9, 3.728568630293599*^9}, {3.7285686812208138`*^9, 
   3.7285686878736*^9}, {3.7285782002809*^9, 3.728578202950485*^9}, {
   3.7285784601083393`*^9, 3.728578461843445*^9}, {3.728578751714657*^9, 
   3.7285787534486628`*^9}, {3.728579164220951*^9, 3.728579167276547*^9}, {
   3.728580479428567*^9, 3.7285804828101797`*^9}, {3.72858939480801*^9, 
   3.728589397957958*^9}, {3.728603024290613*^9, 3.728603026431715*^9}, {
   3.728603750181342*^9, 3.728603752979291*^9}, {3.7286045005412693`*^9, 
   3.728604501754023*^9}, {3.728604963066873*^9, 3.728604963417745*^9}, {
   3.728605540767499*^9, 3.7286055444914923`*^9}, {3.728605959176421*^9, 
   3.728605962876178*^9}, {3.728606955127194*^9, 3.728606961451954*^9}, {
   3.728651388045189*^9, 3.728651390744772*^9}, 3.72865172672084*^9, {
   3.7286518588715563`*^9, 3.728651859217589*^9}, {3.72865223445007*^9, 
   3.7286522345357943`*^9}, {3.728653236029973*^9, 3.7286532400257177`*^9}, {
   3.7286538737187757`*^9, 3.7286538831419287`*^9}, {3.728662601169487*^9, 
   3.728662601269418*^9}, {3.728662664312787*^9, 3.728662699021627*^9}, {
   3.728662752868222*^9, 3.728662754043086*^9}, {3.7286640399021473`*^9, 
   3.7286640505750847`*^9}, {3.728669802728712*^9, 3.728669863290009*^9}, {
   3.728669893439988*^9, 3.728669914088904*^9}, {3.7286731364990273`*^9, 
   3.728673177841728*^9}, {3.728673538677856*^9, 3.728673538903665*^9}, {
   3.728742473759261*^9, 3.7287424740624523`*^9}, {3.728853152791553*^9, 
   3.7288531532448797`*^9}, {3.728853653431014*^9, 3.728853653510724*^9}, {
   3.728853949483267*^9, 3.7288539500123873`*^9}, {3.728854137060046*^9, 
   3.728854144345894*^9}, {3.728855006164719*^9, 3.728855009916059*^9}, {
   3.728910412822548*^9, 3.7289104158502913`*^9}, {3.728927053388077*^9, 
   3.728927068665525*^9}, {3.728927133136668*^9, 3.728927143154904*^9}, {
   3.728927179676564*^9, 3.728927201070212*^9}, {3.728927401242181*^9, 
   3.728927429938491*^9}, {3.7289276769813223`*^9, 3.728927705707827*^9}, {
   3.728928081613021*^9, 3.7289280861595716`*^9}, {3.72892846854987*^9, 
   3.728928468617538*^9}, {3.728939599675844*^9, 3.728939600623076*^9}, {
   3.728939708339991*^9, 3.728939725720945*^9}, 3.728939772649695*^9, {
   3.7289398374697227`*^9, 3.728939839901567*^9}, {3.728939901319989*^9, 
   3.72893990319783*^9}, {3.728939989298233*^9, 3.728939989372077*^9}, {
   3.7289400201981173`*^9, 3.728940144245357*^9}, {3.728940331719266*^9, 
   3.728940386076963*^9}, {3.728940838198268*^9, 3.7289408382670116`*^9}, {
   3.728941019088278*^9, 3.728941024293159*^9}, {3.7289410598094883`*^9, 
   3.728941077339478*^9}, {3.7289411119424667`*^9, 3.728941118671929*^9}, {
   3.72894115401201*^9, 3.728941177447361*^9}, {3.728941311086001*^9, 
   3.7289413494532146`*^9}, {3.7289414930079117`*^9, 3.728941494989101*^9}, {
   3.728941529832205*^9, 3.728941586336563*^9}, {3.728941674815852*^9, 
   3.728941735003621*^9}, {3.728941911338529*^9, 3.728941971818348*^9}, {
   3.728942033737039*^9, 3.72894207803237*^9}, {3.728942110384225*^9, 
   3.72894211063419*^9}, {3.728942156953137*^9, 3.728942157381406*^9}, {
   3.728942187577836*^9, 3.728942189157645*^9}, {3.728942225910606*^9, 
   3.728942228567069*^9}, {3.728942768160615*^9, 3.728942784935046*^9}, {
   3.728942891932707*^9, 3.728942903458653*^9}, {3.728943072628469*^9, 
   3.728943072732839*^9}, {3.7289432455462914`*^9, 3.72894325187066*^9}, {
   3.7289433486348267`*^9, 3.728943350432177*^9}, 3.728995111025558*^9, {
   3.728995835198359*^9, 3.728995836621003*^9}, 3.728996107145178*^9, {
   3.728996167146985*^9, 3.728996167482102*^9}, {3.728997867428652*^9, 
   3.728997872290917*^9}, {3.728998850474172*^9, 3.728998854098871*^9}, {
   3.7289999183943787`*^9, 3.728999924192894*^9}, {3.729001403744197*^9, 
   3.729001407011921*^9}, {3.7290034984956837`*^9, 3.729003505338266*^9}, {
   3.72900360288481*^9, 3.729003605308737*^9}, {3.729004628487089*^9, 
   3.729004655548914*^9}, {3.729004696500369*^9, 3.729004697773459*^9}, {
   3.7290047510509987`*^9, 3.729004752802956*^9}, {3.7290052497519217`*^9, 
   3.7290052504248257`*^9}, {3.729011399279541*^9, 3.729011406308004*^9}, {
   3.7290195443982897`*^9, 3.729019558932803*^9}, {3.7290195906094217`*^9, 
   3.729019598842108*^9}, {3.729371220399324*^9, 3.7293712959681063`*^9}, {
   3.729371379420719*^9, 3.729371511180818*^9}, 3.729371567406172*^9, {
   3.729371697629592*^9, 3.729371706393257*^9}, {3.7293731434465227`*^9, 
   3.729373145193564*^9}, 3.73348509054701*^9, {3.73348515742542*^9, 
   3.73348519018858*^9}, 3.7334852878744383`*^9, {3.733485318471848*^9, 
   3.733485318792069*^9}, {3.733485379900502*^9, 3.733485405146367*^9}, {
   3.733485455070161*^9, 3.733485467028064*^9}, {3.734207507731391*^9, 
   3.734207508055187*^9}, {3.734207830866131*^9, 3.734207855586145*^9}, {
   3.734207926506744*^9, 3.734207957547534*^9}, {3.7342080237811117`*^9, 
   3.7342080264170637`*^9}, {3.734208195584642*^9, 3.7342082009606867`*^9}, 
   3.734208232977363*^9, 3.734208608784107*^9, {3.734210467663309*^9, 
   3.7342104731050787`*^9}, {3.734211048487762*^9, 3.734211048727025*^9}, {
   3.734211131266686*^9, 3.734211131516529*^9}, {3.73421128367262*^9, 
   3.734211292727826*^9}, {3.7342718508265953`*^9, 3.734271856980495*^9}, 
   3.7342755912705383`*^9, {3.734282295994369*^9, 3.734282297715281*^9}, 
   3.734285313207708*^9, 3.734285382844124*^9, {3.734286126302041*^9, 
   3.7342861393680887`*^9}, {3.734289583458783*^9, 3.734289588986909*^9}, {
   3.734289718562776*^9, 3.734289720184404*^9}, 3.73428979922243*^9, {
   3.7342932394795856`*^9, 3.734293269449251*^9}, {3.734293359081368*^9, 
   3.734293359475671*^9}, {3.734295311991005*^9, 3.734295319525614*^9}, {
   3.734454714269752*^9, 3.734454715411614*^9}, {3.734693449669519*^9, 
   3.734693451859418*^9}, {3.7346979809880953`*^9, 3.7346979996971073`*^9}, {
   3.7347822900721893`*^9, 3.734782301757999*^9}, {3.734789121541746*^9, 
   3.7347891228891983`*^9}, {3.7347891993763*^9, 3.734789203655635*^9}, {
   3.7347894115665903`*^9, 3.734789414616714*^9}, {3.73480444366147*^9, 
   3.734804445469297*^9}, {3.734805693098884*^9, 3.734805693750229*^9}, {
   3.7348096889090443`*^9, 3.734809693155911*^9}, {3.734809797355796*^9, 
   3.734809808942691*^9}, {3.7348099128486767`*^9, 3.734809915098159*^9}, 
   3.7348895630860662`*^9, {3.7348900303395967`*^9, 3.7348900307796583`*^9}, {
   3.7348908838316317`*^9, 3.7348908857101183`*^9}, {3.73489149100813*^9, 
   3.734891493202314*^9}, {3.734893824564711*^9, 3.734893824838266*^9}, {
   3.7348954830384617`*^9, 3.73489548645601*^9}, {3.734896916601519*^9, 
   3.7348969202478647`*^9}, {3.734897165770146*^9, 3.7348971699262867`*^9}, {
   3.734898119341669*^9, 3.734898139298916*^9}, {3.734899119312025*^9, 
   3.734899121272852*^9}, {3.734900085843968*^9, 3.734900088817824*^9}, {
   3.7349628997590723`*^9, 3.734962900916287*^9}, {3.7349630091766787`*^9, 
   3.734963014049883*^9}, {3.7349636125313*^9, 
   3.734963622450342*^9}},ExpressionUUID->"eaf3faab-5169-4026-bc61-\
e73ab018b0be"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "\<\"WW\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"2", ",", "\<\"WH\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3", ",", "\<\"WR\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"4", ",", "\<\"WB\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"5", ",", "\<\"HH\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"6", ",", "\<\"HR\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"7", ",", "\<\"HB\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"8", ",", "\<\"RR\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"9", ",", "\<\"RB\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"10", ",", "\<\"BB\"\>"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.72901960827389*^9, 3.729022910271831*^9, {3.729371251362866*^9, 
   3.729371299327276*^9}, 3.729371343877336*^9, 3.729371514798545*^9, 
   3.729371592590722*^9, 3.729371636271079*^9, {3.729371684180002*^9, 
   3.729371710417836*^9}, 3.729373153555373*^9, 3.729373298923471*^9, 
   3.7342083019336*^9, 3.734208459309251*^9, {3.734208613499775*^9, 
   3.734208638175703*^9}, 3.734210491734214*^9, 3.734211151733724*^9, 
   3.7342113115004463`*^9, 3.734267917959236*^9, 3.7342703706727953`*^9, 
   3.734270462693883*^9, 3.734275609133699*^9, 3.734282311495652*^9, 
   3.734283469757646*^9, 3.734285223972052*^9, 3.73428527579596*^9, 
   3.734285342419546*^9, 3.734285412250717*^9, 3.734286168649893*^9, 
   3.7342896185404797`*^9, 3.734289749459861*^9, 3.734293301399947*^9, 
   3.734293389668313*^9, 3.73429524741368*^9, 3.734295349538392*^9, 
   3.734295894497213*^9, 3.734454763696666*^9, 3.7346935001509933`*^9, 
   3.734698031030546*^9, 3.734782302612197*^9, 3.734782338697175*^9, 
   3.734789156494349*^9, 3.7347892270984373`*^9, 3.7347894426864147`*^9, 
   3.734804349664897*^9, 3.7348097310949583`*^9, 3.734809769171447*^9, 
   3.734809837248526*^9, 3.734809943885913*^9, 3.734889630332571*^9, 
   3.734890079022152*^9, 3.734890920536914*^9, 3.734893056953178*^9, 
   3.734893853161851*^9, 3.734895515440236*^9, 3.7348972017920923`*^9, 
   3.734898168406869*^9, 3.7348991505750713`*^9, 3.734900117522983*^9, 
   3.7349003698762693`*^9, 3.734963043714118*^9, 
   3.7349636526331472`*^9},ExpressionUUID->"f9bcb483-82b2-428a-839c-\
8bff7983b2ca"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0.4, 0.30000000000000004`, 1.], 
         RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[
        0.2666666666666667, 0.20000000000000004`, 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0.4, 0.30000000000000004, 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = 
         RGBColor[0.4, 0.30000000000000004`, 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0.4, 0.30000000000000004`, 1.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0.65, 0.7, 1.], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[
        0.43333333333333335`, 0.4666666666666667, 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0.65, 0.7, 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0.65, 0.7, 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0.65, 0.7, 1.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0.6, 0.4, 1.], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[0.4, 0.2666666666666667, 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0.6, 0.4, 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0.6, 0.4, 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0.6, 0.4, 1.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {GrayLevel[0], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->GrayLevel[0.],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "GrayLevel[0]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = GrayLevel[0]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["GrayLevelColorValueSelector"], {
           0, {Left, Bottom}}, {Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    GrayLevel[0],
    Editable->False,
    Selectable->False]}], "}"}]], "Output",
 CellChangeTimes->{
  3.72901960827389*^9, 3.729022910271831*^9, {3.729371251362866*^9, 
   3.729371299327276*^9}, 3.729371343877336*^9, 3.729371514798545*^9, 
   3.729371592590722*^9, 3.729371636271079*^9, {3.729371684180002*^9, 
   3.729371710417836*^9}, 3.729373153555373*^9, 3.729373298923471*^9, 
   3.7342083019336*^9, 3.734208459309251*^9, {3.734208613499775*^9, 
   3.734208638175703*^9}, 3.734210491734214*^9, 3.734211151733724*^9, 
   3.7342113115004463`*^9, 3.734267917959236*^9, 3.7342703706727953`*^9, 
   3.734270462693883*^9, 3.734275609133699*^9, 3.734282311495652*^9, 
   3.734283469757646*^9, 3.734285223972052*^9, 3.73428527579596*^9, 
   3.734285342419546*^9, 3.734285412250717*^9, 3.734286168649893*^9, 
   3.7342896185404797`*^9, 3.734289749459861*^9, 3.734293301399947*^9, 
   3.734293389668313*^9, 3.73429524741368*^9, 3.734295349538392*^9, 
   3.734295894497213*^9, 3.734454763696666*^9, 3.7346935001509933`*^9, 
   3.734698031030546*^9, 3.734782302612197*^9, 3.734782338697175*^9, 
   3.734789156494349*^9, 3.7347892270984373`*^9, 3.7347894426864147`*^9, 
   3.734804349664897*^9, 3.7348097310949583`*^9, 3.734809769171447*^9, 
   3.734809837248526*^9, 3.734809943885913*^9, 3.734889630332571*^9, 
   3.734890079022152*^9, 3.734890920536914*^9, 3.734893056953178*^9, 
   3.734893853161851*^9, 3.734895515440236*^9, 3.7348972017920923`*^9, 
   3.734898168406869*^9, 3.7348991505750713`*^9, 3.734900117522983*^9, 
   3.7349003698762693`*^9, 3.734963043714118*^9, 
   3.7349636622837*^9},ExpressionUUID->"47afbc83-b0f0-47aa-8550-c0f0b38fc19f"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Generate Rasters", "Chapter",
 CellChangeTimes->{{3.728567301012096*^9, 
  3.728567305122032*^9}},ExpressionUUID->"5a6b7c18-884a-4f4d-9431-\
076028afe0da"],

Cell[CellGroupData[{

Cell["Flow Chart (only needs to be run once)", "Subchapter",
 CellChangeTimes->{{3.728675447425973*^9, 3.7286754521154757`*^9}, {
  3.728675530035922*^9, 
  3.728675537794833*^9}},ExpressionUUID->"edabbdd7-3ab9-4add-8e75-\
410dbf4f2879"],

Cell[BoxData[
 RowBox[{
  RowBox[{"barChartPopDynFrames", "=", 
   RowBox[{"Map", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"BarChartPopDynamicsFrames", "[", 
       RowBox[{"#", ",", "aggregatedPopulationsAcrossNodes", ",", 
        RowBox[{"{", 
         RowBox[{"colors", ",", 
          RowBox[{
           RowBox[{"aggregatedPopulationsAcrossNodes", "[", 
            RowBox[{"[", 
             RowBox[{"All", ",", 
              RowBox[{"Length", "[", "labels", "]"}]}], "]"}], "]"}], "//", 
           "Max"}], ",", "ticksMax", ",", "frameDimensions", ",", "labels"}], 
         "}"}]}], "]"}], "&"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", "ticksMax", "}"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{
  3.7289408522984543`*^9, {3.72894091887602*^9, 3.7289409194919863`*^9}, {
   3.734209117022787*^9, 3.734209117187557*^9}, {3.734209479618651*^9, 
   3.7342094807537613`*^9}, {3.7346955614581337`*^9, 3.734695561779331*^9}, 
   3.734696658997592*^9, 
   3.734696910561161*^9},ExpressionUUID->"03ea54b3-dc9f-45fc-b3c8-\
94ca02d1ae20"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{
   "outputFolder", "<>", "\"\</Flow/\>\"", "<>", "\"\<FlowFull.png\>\""}], 
   ",", "barChartPopDynFrames", ",", 
   RowBox[{"ImageResolution", "\[Rule]", "200"}], ",", 
   RowBox[{"ImageSize", "\[Rule]", 
    RowBox[{"frameDimensions", "[", 
     RowBox[{"[", "1", "]"}], "]"}]}]}], "]"}]], "Input",
 CellChangeTimes->{{3.734696661808668*^9, 
  3.734696662175708*^9}},ExpressionUUID->"f83a04a9-5bb8-457a-8f87-\
cb5cb80de0cd"],

Cell[BoxData["\<\"./RASTERS_Low/Flow/FlowFull.png\"\>"], "Output",
 CellChangeTimes->{3.734696854616129*^9, 3.734697696391057*^9, 
  3.734868255531295*^9},ExpressionUUID->"b63adf80-76a9-4b7a-9989-\
988dfe7ffd18"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Population Counts", "Subchapter",
 CellChangeTimes->{{3.7285673203455*^9, 
  3.728567326837945*^9}},ExpressionUUID->"5b41ffdd-ffe9-47e9-9c84-\
68402481d1d3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stepSize", "=", "8"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Subset", " ", "Data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"dataRange", "=", 
      RowBox[{"{", 
       RowBox[{"i", ",", 
        RowBox[{"i", "+", "stepSize"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"subsetPopulations", ",", "subsetPopulationsAccrossNodes"}], 
       "}"}], "=", 
      RowBox[{"SubsetPopulations", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
         "}"}], ",", "dataRange"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Export", " ", "Frames"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"popCountsFrames", "=", 
      RowBox[{"GeneratePopCountsFrames", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"labels", ",", "colors"}], "}"}], ",", 
        "subsetPopulationsAccrossNodes"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"popCountGridFrames", "=", 
        RowBox[{
         RowBox[{
          RowBox[{"Grid", "[", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"#", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "}"}], ",", 
             RowBox[{"{", "}"}], ",", 
             RowBox[{"{", "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "}"}]}], "}"}], "]"}], "&"}], "/@", 
         RowBox[{"Transpose", "[", 
          RowBox[{"{", 
           RowBox[{"dayCounter", ",", "popCountsFrames"}], "}"}], "]"}]}]}], 
       ";"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"popCountsFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{"outputFolder", ",", "outputPopCounts", ",", "baseCounts"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"dayCounterFrames", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Style", "[", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"\"\<\>\"", "<>", 
            RowBox[{"StringPadLeft", "[", 
             RowBox[{
              RowBox[{"ToString", "[", "#", "]"}], ",", "5", ",", 
              "\"\<0\>\""}], "]"}]}], ")"}], ",", "50"}], "]"}], "&"}], "/@", 
       
       RowBox[{"Range", "[", 
        RowBox[{
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"dayCounterFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{"outputFolder", ",", "outputPopCounts", ",", "baseDays"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Clear", " ", "Memory"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ClearSystemCache", "[", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{
      "dataRange", ",", "subsetPopulations", ",", 
       "subsetPopulationsAccrossNodes", ",", "dayCounterFrames", ",", 
       "popCountsFrames"}], "]"}], ";"}], "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"framesRange", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{"framesRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "-", "stepSize"}], ",", "stepSize"}], 
     "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.728567318057585*^9, 3.7285673185762033`*^9}, {
   3.7286640572535343`*^9, 3.728664084164392*^9}, {3.728664348959845*^9, 
   3.728664374724943*^9}, {3.728664414521009*^9, 3.728664615863657*^9}, {
   3.728665437187715*^9, 3.728665440241418*^9}, {3.728665504174272*^9, 
   3.7286655114764957`*^9}, {3.7286698720076027`*^9, 3.728669874792714*^9}, {
   3.728853331152421*^9, 3.728853397193881*^9}, {3.728853526570937*^9, 
   3.728853526713423*^9}, {3.728853567467815*^9, 3.728853572713142*^9}, 
   3.7289313977739763`*^9, 
   3.734869709880814*^9},ExpressionUUID->"eee30cc4-d754-49b6-aa32-\
42fa5370b98b"]
}, Closed]],

Cell[CellGroupData[{

Cell["Bar Charts", "Subchapter",
 CellChangeTimes->{{3.72856736339316*^9, 
  3.7285673705202417`*^9}},ExpressionUUID->"048fa023-58bf-4b14-b3cd-\
d280210b84cd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stepSize", "=", "8"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Subset", " ", "Data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"dataRange", "=", 
      RowBox[{"{", 
       RowBox[{"i", ",", 
        RowBox[{"i", "+", "stepSize"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"subsetPopulations", ",", "subsetPopulationsAccrossNodes"}], 
       "}"}], "=", 
      RowBox[{"SubsetPopulations", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
         "}"}], ",", "dataRange"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Export", " ", "Frames"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"barChartFrames", "=", 
      RowBox[{"ParallelMap", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"BarChartPopCountsFrames", "[", 
          RowBox[{
           RowBox[{"Map", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"#", ">", "1"}], ",", 
                RowBox[{"N", "[", 
                 RowBox[{"Log", "[", "#", "]"}], "]"}], ",", "0"}], "]"}], 
              "&"}], ",", "#", ",", 
             RowBox[{"{", "2", "}"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"colors", ",", 
             RowBox[{
              RowBox[{"Ceiling", "[", 
               RowBox[{"Log", "[", 
                RowBox[{"maleMax", "+", "femaleMax"}], "]"}], "]"}], "*", 
              "3"}], ",", "frameDimensions"}], "}"}]}], "]"}], "&"}], ",", 
        "\[IndentingNewLine]", "subsetPopulations"}], "\[IndentingNewLine]", 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"barChartFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{
        "outputFolder", ",", "outputBarCharts", ",", "baseBarCharts"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Clear", " ", "Memory"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ClearSystemCache", "[", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{
      "dataRange", ",", "subsetPopulations", ",", 
       "subsetPopulationsAccrossNodes", ",", "days", ",", "barChartFrames"}], 
      "]"}], ";"}], "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"framesRange", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{"framesRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "-", "stepSize"}], ",", "stepSize"}], 
     "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.728651844520816*^9, 3.728651844769874*^9}, {
   3.7286699357304373`*^9, 3.728669936685807*^9}, {3.728853291655842*^9, 
   3.728853306434112*^9}, 3.72893136728538*^9, {3.734209662536786*^9, 
   3.734209699896655*^9}, {3.734209737089563*^9, 3.7342097421296597`*^9}, {
   3.73420985005105*^9, 3.7342098564579906`*^9}, {3.734210039231948*^9, 
   3.7342100419386578`*^9}, {3.7342109062243233`*^9, 3.734210912091545*^9}, 
   3.734211122377554*^9, {3.7342893684913073`*^9, 3.734289369059568*^9}, {
   3.734289594638734*^9, 3.734289594850418*^9}, {3.734289788488265*^9, 
   3.734289789709399*^9}, 
   3.73429514445182*^9},ExpressionUUID->"95ce88a9-aed5-4bae-944f-\
c1a3828611cb"]
}, Closed]],

Cell[CellGroupData[{

Cell["Population Dynamics", "Subchapter",
 CellChangeTimes->{{3.728567375656878*^9, 
  3.728567382465563*^9}},ExpressionUUID->"c663073f-c3bc-4282-b4b6-\
2b380c913e9a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stepSize", "=", "8"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Subset", " ", "Data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"dataRange", "=", 
      RowBox[{"{", 
       RowBox[{"i", ",", 
        RowBox[{"i", "+", "stepSize"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"subsetPopulations", ",", "subsetPopulationsAccrossNodes"}], 
       "}"}], "=", 
      RowBox[{"SubsetPopulations", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
         "}"}], ",", "dataRange"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Export", " ", "Frames"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"fullRaster", "=", 
      RowBox[{"Import", "[", 
       RowBox[{
       "outputFolder", "<>", "outputFlow", "<>", "\"\<FlowFull.png\>\""}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"days", "=", 
      RowBox[{"Range", "[", 
       RowBox[{
        RowBox[{"dataRange", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"dataRange", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"barChartPopDynMaskedFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"BarChartPopDynamicsMaskFrames", "[", 
          RowBox[{"fullRaster", ",", 
           RowBox[{"{", 
            RowBox[{"#", ",", "ticksMax"}], "}"}]}], "]"}], "&"}], ",", 
        "days"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"barChartPopDynMaskedFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{"outputFolder", ",", "outputFlow", ",", "basePopDyn"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Clear", " ", "Memory"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ClearSystemCache", "[", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{
      "dataRange", ",", "subsetPopulations", ",", 
       "subsetPopulationsAccrossNodes", ",", "days", ",", 
       "barChartPopDynMaskedFrames"}], "]"}], ";"}], "\[IndentingNewLine]", 
    ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"framesRange", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{"framesRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "-", "stepSize"}], ",", "stepSize"}], 
     "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.7286014613559647`*^9, 3.7286015475327587`*^9}, 
   3.728601582173761*^9, {3.7286030091212053`*^9, 3.728603018310872*^9}, {
   3.7286545710685253`*^9, 3.728654584732645*^9}, 3.728655002102021*^9, {
   3.7286699215875473`*^9, 3.728669923627376*^9}, {3.728853174204969*^9, 
   3.728853192297105*^9}, {3.728853269471661*^9, 3.728853274210744*^9}, {
   3.728931355848033*^9, 3.728931357666996*^9}, 3.728931453477345*^9, 
   3.7289402466039143`*^9, 3.73426259951845*^9, 
   3.734271955057331*^9},ExpressionUUID->"ebe73bc6-1465-44e1-adf6-\
f1f4d8ac938c"]
}, Closed]],

Cell[CellGroupData[{

Cell["Map", "Subchapter",
 CellChangeTimes->{{3.7342717417101097`*^9, 
  3.734271744452923*^9}},ExpressionUUID->"ea2c2613-5ce4-494c-b8e5-\
f154616deb48"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"latLongs", "=", "cities"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"minMaxes", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Min", "[", "#", "]"}], ",", 
       RowBox[{"Max", "[", "#", "]"}]}], "}"}], "&"}], "/@", 
    RowBox[{"(", 
     RowBox[{"latLongs", "//", "Transpose"}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"center", "=", 
   RowBox[{"Mean", "/@", "minMaxes"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"populations", "=", 
    RowBox[{"Total", "/@", 
     RowBox[{"totalPopulationDatasets", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"sizes", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"Rescale", "[", 
        RowBox[{"#", ",", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{
            RowBox[{"Log", "[", "populations", "]"}], "//", "Min"}], ",", 
           RowBox[{
            RowBox[{"Log", "[", "populations", "]"}], "//", "Max"}]}], "}"}], 
         ",", 
         RowBox[{"{", 
          RowBox[{".05", ",", "2"}], "}"}]}], "]"}], "&"}], "/@", 
      RowBox[{"Log", "[", "populations", "]"}]}]}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sizes", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Rescale", "[", 
      RowBox[{"#", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"populations", "//", "Min"}], ",", 
         RowBox[{"populations", "//", "Max"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "1"}], "}"}]}], "]"}], "&"}], "/@", 
    "populations"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"gridSize", "=", 
    RowBox[{
     RowBox[{"Max", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Abs", "[", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "-", 
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "]"}], "&"}], "/@", 
       "minMaxes"}], "]"}], "*", ".75"}]}], ";"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"originalColorsValuesMap", "=", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"70", ",", "100", ",", "0", ",", "0"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"40", ",", "60", ",", "0", ",", "0"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"50", ",", "100", ",", "0", ",", "0"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"100", ",", "100", ",", "100", ",", "100"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], 
    "\[IndentingNewLine]", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"colorPaletteMap", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"Lighter", "[", 
     RowBox[{"#", ",", "0"}], "]"}], "&"}], "/@", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"CMYKColor", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "/", "100"}], ",", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "/", "100"}], ",", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "3", "]"}], "]"}], "/", "100"}], ",", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "4", "]"}], "]"}], "/", "100"}]}], "]"}], "&"}], "/@", 
     "originalColorsValuesMap"}], ")"}]}]}]}], "Input",
 CellChangeTimes->{{3.734271769568898*^9, 3.7342718439129877`*^9}, {
   3.734272097725445*^9, 3.73427209841888*^9}, {3.7342721548605137`*^9, 
   3.734272166803617*^9}, {3.7342722075888567`*^9, 3.7342722506613083`*^9}, {
   3.734272281156596*^9, 3.7342722813826*^9}, {3.7342724148669767`*^9, 
   3.734272425892798*^9}, {3.7342724686822433`*^9, 3.73427252677253*^9}, {
   3.7342729432923727`*^9, 3.7342729436457367`*^9}, {3.7347824092055264`*^9, 
   3.734782421375257*^9}, 3.734782543015338*^9, {3.734782968089048*^9, 
   3.7347830012025223`*^9}, {3.734783053093083*^9, 3.734783053362918*^9}, {
   3.7347832343008957`*^9, 3.734783237240243*^9}, {3.734783685762348*^9, 
   3.734783686543625*^9}, {3.734788219101487*^9, 3.734788228376082*^9}, {
   3.734788535449197*^9, 
   3.734788537769079*^9}},ExpressionUUID->"7fd1b9d6-ead5-400b-b142-\
4fd04e65c5cf"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0.30000000000000004`, 0., 1.], 
         RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[0.20000000000000004`, 0., 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0.30000000000000004, 0., 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = 
         RGBColor[0.30000000000000004`, 0., 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0.30000000000000004`, 0., 1.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0.6, 0.4, 1.], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[0.4, 0.2666666666666667, 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0.6, 0.4, 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0.6, 0.4, 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0.6, 0.4, 1.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0.5, 0., 1.], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[0.33333333333333337`, 0., 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0.5, 0., 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0.5, 0., 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0.5, 0., 1.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[0., 0., 0.], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[0., 0., 0.],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[0., 0., 0.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[0., 0., 0.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[0., 0., 0.],
    Editable->False,
    Selectable->False], ",", 
   InterpretationBox[
    ButtonBox[
     TooltipBox[
      GraphicsBox[{
        {GrayLevel[0], RectangleBox[{0, 0}]}, 
        {GrayLevel[0], RectangleBox[{1, -1}]}, 
        {RGBColor[1., 1., 1.], RectangleBox[{0, -1}, {2, 1}]}},
       AspectRatio->1,
       Frame->True,
       FrameStyle->RGBColor[
        0.6666666666666667, 0.6666666666666667, 0.6666666666666667],
       FrameTicks->None,
       ImageSize->
        Dynamic[{
         Automatic, 1.35 CurrentValue["FontCapHeight"]/AbsoluteCurrentValue[
          Magnification]}],
       PlotRangePadding->None],
      "RGBColor[1., 1., 1.]"],
     Appearance->None,
     BaseStyle->{},
     BaselinePosition->Baseline,
     ButtonFunction:>With[{Typeset`box$ = EvaluationBox[]}, 
       If[
        Not[
         AbsoluteCurrentValue["Deployed"]], 
        SelectionMove[Typeset`box$, All, Expression]; 
        FrontEnd`Private`$ColorSelectorInitialAlpha = 1; 
        FrontEnd`Private`$ColorSelectorInitialColor = RGBColor[1., 1., 1.]; 
        FrontEnd`Private`$ColorSelectorUseMakeBoxes = True; 
        MathLink`CallFrontEnd[
          FrontEnd`AttachCell[Typeset`box$, 
           FrontEndResource["RGBColorValueSelector"], {0, {Left, Bottom}}, {
           Left, Top}, 
           "ClosingActions" -> {
            "SelectionDeparture", "ParentChanged", "EvaluatorQuit"}]]]],
     DefaultBaseStyle->{},
     Evaluator->Automatic,
     Method->"Preemptive"],
    RGBColor[1., 1., 1.],
    Editable->False,
    Selectable->False]}], "}"}]], "Output",
 CellChangeTimes->{
  3.734272215274084*^9, 3.7342722510987263`*^9, 3.7342724281297607`*^9, {
   3.734272479942285*^9, 3.734272527266068*^9}, 3.734272944016019*^9, 
   3.734282365471931*^9, 3.734283479466744*^9, 3.7342852344980516`*^9, 
   3.7342852881242313`*^9, 3.734285479963039*^9, 3.734286192773802*^9, 
   3.734287914435622*^9, 3.734288095476819*^9, 3.734288766731311*^9, 
   3.73429592775591*^9, 3.734296096188335*^9, 3.734454776307239*^9, {
   3.734782410768552*^9, 3.7347824216813726`*^9}, 3.73478254475176*^9, 
   3.734782582247191*^9, {3.734782613848724*^9, 3.734782788569401*^9}, {
   3.7347828212463293`*^9, 3.734782849377489*^9}, 3.734782882011427*^9, 
   3.7347830025271482`*^9, 3.73478305386281*^9, 3.734783237664996*^9, 
   3.7347836870685577`*^9, 3.73478822892698*^9, 3.734788481269641*^9, 
   3.734788538106188*^9, 3.734789020236129*^9, 3.734789241620104*^9, 
   3.7347893047069607`*^9, 
   3.734789354224015*^9},ExpressionUUID->"43d19df0-d688-4d68-9412-\
d937f1c028b8"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"stepSize", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Subset", " ", "Data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"dataRange", "=", 
      RowBox[{"{", 
       RowBox[{"i", ",", 
        RowBox[{"i", "+", "stepSize"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"subsetPopulations", "=", 
      RowBox[{"SubsetPopulations", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
         "}"}], ",", "dataRange"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"pieChartFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"GeneratePieChartsAtTick", "[", 
          RowBox[{"#", ",", "labels", ",", 
           RowBox[{"maleMax", "+", "femaleMax"}]}], "]"}], "&"}], ",", 
        RowBox[{"subsetPopulations", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"pieChartFrames", "=", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"Sigmoid", "[", 
             RowBox[{"#", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "]"}]}], "}"}], "&"}], "/@", 
         "i"}], ",", 
        RowBox[{"{", 
         RowBox[{"i", ",", "pieChartFrames"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"range", ",", "networkMatrix", ",", "vertexCoordinates"}], 
       "}"}], "=", 
      RowBox[{"CalculateNetworkParameters", "[", 
       RowBox[{"cities", ",", "transitionsMatrix"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vertexShapeAndSizeFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"CalculateVertexScalers", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"range", ",", 
             RowBox[{"nodeScaler", "*", ".3"}]}], "}"}], ",", "#"}], "]"}], 
         "&"}], ",", "pieChartFrames"}], "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"networkFrames", "=", 
      RowBox[{"ParallelMap", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"GenerateNetworkFrames", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"vertexCoordinates", ",", "networkMatrix"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"1", ",", ".0001", ",", "frameDimensions"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"countryPolygon", ",", "countrySchematicPolygon"}], "}"}],
            ",", "colorPaletteMap"}], "]"}], "&"}], ",", 
        "vertexShapeAndSizeFrames"}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"networkFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{"outputFolder", ",", "outputNetworks", ",", "baseNetworks"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Clear", " ", "Memory"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ClearSystemCache", "[", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{
      "dataRange", ",", "subsetPopulations", ",", 
       "subsetPopulationsAccrossNodes", ",", "pieChartFrames", ",", 
       "vertexShapeAndSizeFrames", ",", "networkFrames", ",", "range", ",", 
       "networkMatrix", ",", "vertexCoordinates"}], "]"}], ";"}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"framesRange", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{"framesRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "-", "stepSize"}], ",", "stepSize"}], 
     "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.734273011905299*^9, 3.734273036093561*^9}, 
   3.734288385357087*^9, {3.734288472728807*^9, 3.734288478005282*^9}, {
   3.734288908447371*^9, 3.734288915682201*^9}, {3.734295907380384*^9, 
   3.7342959152878857`*^9}, {3.734296016481557*^9, 3.734296017385167*^9}, {
   3.7342960736826572`*^9, 3.734296078850441*^9}, 3.734782775713192*^9, 
   3.7347837319646997`*^9, {3.73478377871542*^9, 3.7347837789007397`*^9}, {
   3.7347838834936647`*^9, 3.734783902424453*^9}, {3.734783948805328*^9, 
   3.734783952596471*^9}, {3.7347840057475767`*^9, 3.7347840458743134`*^9}, 
   3.7347840781588783`*^9, {3.7347868234185658`*^9, 3.7347868245916977`*^9}, {
   3.734786855724166*^9, 3.734786858371498*^9}, {3.734787300928059*^9, 
   3.734787301100906*^9}, {3.73478755005232*^9, 3.734787550192493*^9}, {
   3.734787664417841*^9, 3.734787665765004*^9}, {3.734788754848886*^9, 
   3.734788778068013*^9}, {3.7347889015379*^9, 3.7347889018330317`*^9}, {
   3.7347891723220787`*^9, 3.734789194103944*^9}, {3.734789260262507*^9, 
   3.73478926029186*^9}},ExpressionUUID->"ec958398-3548-4e64-b49e-\
d33deb4c327c"],

Cell[BoxData["$Aborted"], "Output",
 CellChangeTimes->{
  3.734792062712986*^9},ExpressionUUID->"30eaf654-bf5d-47cc-9523-\
13d98d1e3337"]
}, Open  ]]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Final Frames", "Chapter",
 CellChangeTimes->{{3.7285676167386093`*^9, 3.728567624129726*^9}, {
  3.728604656437027*^9, 3.728604659363276*^9}, {3.728752269495276*^9, 
  3.7287522749613657`*^9}, {3.728847773730139*^9, 3.728847775204405*^9}, {
  3.728853201633174*^9, 
  3.728853201809606*^9}},ExpressionUUID->"b077fd21-6aea-4463-aba8-\
c55e08bfcee4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stepSize", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Subset", " ", "Data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"dataRange", "=", 
      RowBox[{"{", 
       RowBox[{"i", ",", 
        RowBox[{"i", "+", "stepSize"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"subsetPopulations", ",", "subsetPopulationsAccrossNodes"}], 
       "}"}], "=", 
      RowBox[{"SubsetPopulations", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
         "}"}], ",", "dataRange"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Export", " ", "Frames"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"fileNames", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"ParseFilenames", "[", 
         RowBox[{"#", ",", "\[IndentingNewLine]", 
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{"outputFolder", ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{
             "outputPopCounts", ",", "outputBarCharts", ",", "outputFlow", 
              ",", "outputNetworks"}], "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{
             "baseCounts", ",", "baseDays", ",", "baseBarCharts", ",", 
              "basePopDyn", ",", "baseNetworks"}], "}"}]}], 
           "\[IndentingNewLine]", "}"}]}], "]"}], "&"}], "/@", 
       RowBox[{"Range", "[", 
        RowBox[{
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"dataRange", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"fullFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"GenerateAnimationFrameFromFiles", "[", "#", "]"}], "&"}], 
        ",", "fileNames"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"fullFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{
        "outputFolder", ",", "outputFullFrames", ",", "baseFullFrames"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Clear", " ", "Memory"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ClearSystemCache", "[", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{
      "dataRange", ",", "subsetPopulations", ",", 
       "subsetPopulationsAccrossNodes", ",", "fileNames", ",", "fullFrames"}],
       "]"}], ";"}], "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"framesRange", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{"framesRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "-", "stepSize"}], ",", "stepSize"}], 
     "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.728672908729183*^9, 3.7286729273401537`*^9}, {
   3.728672975994256*^9, 3.7286730204703617`*^9}, {3.728673091450292*^9, 
   3.728673118549974*^9}, {3.72867315609939*^9, 3.7286732120538893`*^9}, {
   3.728673494574224*^9, 3.728673499606791*^9}, {3.728847795436438*^9, 
   3.728847906088168*^9}, {3.728847965973672*^9, 3.728847986928347*^9}, {
   3.728848083272726*^9, 3.728848085390316*^9}, {3.728848115654953*^9, 
   3.728848143937195*^9}, {3.72884854459722*^9, 3.728848551923593*^9}, {
   3.728849202844892*^9, 3.728849203517215*^9}, {3.728849643063548*^9, 
   3.728849643192348*^9}, {3.728849677680154*^9, 3.728849677831018*^9}, {
   3.728851039827561*^9, 3.728851067774704*^9}, {3.728851427388193*^9, 
   3.728851456176692*^9}, {3.728851876353674*^9, 3.728851878316287*^9}, 
   3.728852525186387*^9, {3.7288526424931*^9, 3.728852653071982*^9}, {
   3.728852954636705*^9, 3.7288529731596203`*^9}, {3.728910118825944*^9, 
   3.7289101202725687`*^9}, {3.72900362861559*^9, 3.7290036347359343`*^9}, {
   3.729026789414238*^9, 
   3.729026789435341*^9}},ExpressionUUID->"d729c750-f7c0-4999-bac6-\
07b7d5330683"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Debug", "Chapter",
 CellChangeTimes->{{3.7342863643382196`*^9, 
  3.73428636777712*^9}},ExpressionUUID->"f0f2c8f6-4c3d-4b2d-95a2-\
17612134093b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"map", "=", 
   RowBox[{"GeoGraphics", "[", 
    RowBox[{
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{
        RowBox[{"Quiet", "[", 
         RowBox[{"GeoPosition", "/@", 
          RowBox[{"CityData", "[", 
           RowBox[{"{", 
            RowBox[{"All", ",", "countryName"}], "}"}], "]"}]}], "]"}], ","}],
        "*)"}], "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"GeoStyling", "[", 
        RowBox[{
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "1", "]"}], ",", 
            RowBox[{"Thickness", "[", ".030", "]"}], ",", 
            RowBox[{"Darker", "[", 
             RowBox[{
              RowBox[{"colorPaletteMap", "[", 
               RowBox[{"[", "5", "]"}], "]"}], ",", ".06"}], "]"}]}], "]"}], 
          "]"}], ",", 
         RowBox[{"Opacity", "[", ".9", "]"}], ",", 
         RowBox[{"colorPaletteMap", "[", 
          RowBox[{"[", "1", "]"}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"CountryData", "[", 
        RowBox[{"countryName", ",", "\"\<SchematicPolygon\>\""}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"GeoStyling", "[", 
        RowBox[{
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", "1", "]"}], ",", 
            RowBox[{"Thickness", "[", ".0075", "]"}], ",", 
            RowBox[{"colorPaletteMap", "[", 
             RowBox[{"[", "5", "]"}], "]"}]}], "]"}], "]"}], ",", 
         RowBox[{"Opacity", "[", ".2", "]"}], ",", 
         RowBox[{"colorPaletteMap", "[", 
          RowBox[{"[", "3", "]"}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"CountryData", "[", 
        RowBox[{"countryName", ",", "\"\<SchematicPolygon\>\""}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"GeoStyling", "[", 
        RowBox[{
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Directive", "[", 
           RowBox[{
            RowBox[{"Opacity", "[", ".25", "]"}], ",", 
            RowBox[{"Thickness", "[", ".020", "]"}], ",", 
            RowBox[{"colorPaletteMap", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "]"}], ",", 
         RowBox[{"Opacity", "[", "0", "]"}], ",", 
         RowBox[{"colorPaletteMap", "[", 
          RowBox[{"[", "5", "]"}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"CountryData", "[", 
        RowBox[{"countryName", ",", "\"\<Polygon\>\""}], "]"}]}], 
      "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",", 
     RowBox[{"AspectRatio", "\[Rule]", "1"}], "\[IndentingNewLine]", ",", 
     RowBox[{"Axes", "\[Rule]", "False"}], "\[IndentingNewLine]", ",", 
     RowBox[{"Background", "\[Rule]", 
      RowBox[{"Directive", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"colorPaletteMap", "[", 
          RowBox[{"[", "5", "]"}], "]"}], ",", 
         RowBox[{"Opacity", "[", "1", "]"}]}], "}"}], "]"}]}], 
     "\[IndentingNewLine]", ",", 
     RowBox[{"Frame", "\[Rule]", "None"}], "\[IndentingNewLine]", ",", 
     RowBox[{"FrameStyle", "\[Rule]", 
      RowBox[{"Directive", "[", 
       RowBox[{
        RowBox[{"colorPalette", "[", 
         RowBox[{"[", "4", "]"}], "]"}], ",", 
        RowBox[{"Thickness", "[", ".0035", "]"}]}], "]"}]}], 
     "\[IndentingNewLine]", ",", 
     RowBox[{"FrameTicks", "\[Rule]", "None"}], "\[IndentingNewLine]", ",", 
     RowBox[{"FrameTicksStyle", "\[Rule]", "White"}], "\[IndentingNewLine]", 
     ",", 
     RowBox[{"GridLines", "\[Rule]", "None"}], "\[IndentingNewLine]", ",", 
     RowBox[{"GridLinesStyle", "\[Rule]", 
      RowBox[{"Directive", "[", 
       RowBox[{"{", 
        RowBox[{"Dashed", ",", 
         RowBox[{"Thickness", "[", ".001", "]"}], ",", 
         RowBox[{"colorPalette", "[", 
          RowBox[{"[", "4", "]"}], "]"}]}], "}"}], "]"}]}], 
     "\[IndentingNewLine]", ",", 
     RowBox[{"ImageSize", "\[Rule]", "1000"}], "\[IndentingNewLine]", ",", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"#", "-", "gridSize"}], ",", 
           RowBox[{"#", "+", "gridSize"}]}], "}"}], "&"}], "/@", "center"}], 
       ")"}]}], "\[IndentingNewLine]", ",", 
     RowBox[{"GeoBackground", "\[Rule]", "None"}], "\[IndentingNewLine]", ",", 
     RowBox[{"Prolog", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"colorPalette", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"Opacity", "[", ".00005", "]"}], ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"Directive", "[", 
          RowBox[{
           RowBox[{"Opacity", "[", ".00000005", "]"}], ",", 
           RowBox[{"Thickness", "[", ".0025", "]"}], ",", 
           RowBox[{"colorPaletteMap", "[", 
            RowBox[{"[", "1", "]"}], "]"}]}], "]"}], "]"}]}], "}"}]}], 
     "\[IndentingNewLine]", ",", 
     RowBox[{"Epilog", "\[Rule]", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{"White", ",", "\[IndentingNewLine]", 
        RowBox[{"Opacity", "[", ".9", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"Directive", "[", 
          RowBox[{
           RowBox[{"Thickness", "[", ".002", "]"}], ",", 
           RowBox[{"Opacity", "[", "1", "]"}], ",", "Black"}], "]"}], "]"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Disk", "[", 
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], ",", 
            RowBox[{"0.01", "+", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}], "/", "7.5"}]}]}], "]"}], "&"}],
          "/@", 
         RowBox[{"Transpose", "[", 
          RowBox[{"{", 
           RowBox[{"latLongs", ",", 
            RowBox[{"sizes", "//", "N"}]}], "}"}], "]"}]}], ",", 
        "\[IndentingNewLine]", "Black", ",", "\[IndentingNewLine]", 
        RowBox[{"Opacity", "[", "0", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Text", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{"countryName", ",", "50", ",", 
            RowBox[{"Lighter", "[", 
             RowBox[{
              RowBox[{"colorPaletteMap", "[", 
               RowBox[{"[", "4", "]"}], "]"}], ",", ".25"}], "]"}], ",", 
            RowBox[{"FontFamily", "\[Rule]", "\"\<Zapfino\>\""}]}], 
           "\[IndentingNewLine]", "]"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{"center", "[", 
              RowBox[{"[", "1", "]"}], "]"}], "+", 
             RowBox[{".55", "gridSize"}]}], ",", 
            RowBox[{
             RowBox[{"center", "[", 
              RowBox[{"[", "2", "]"}], "]"}], "-", 
             RowBox[{"gridSize", "*", ".8"}]}]}], "}"}]}], "]"}]}], 
       "\[IndentingNewLine]", "}"}]}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.734272268290588*^9, 3.734272270180197*^9}, {
   3.734272549730763*^9, 3.734272562186482*^9}, {3.734272912470791*^9, 
   3.7342729888575974`*^9}, 
   3.734282361554894*^9},ExpressionUUID->"a945134d-ff9e-44e1-9be3-\
02e0a5a893d1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"subsetPopulations", "=", 
   RowBox[{"SubsetPopulations", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"3750", ",", "3754"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pieChartFrames", "=", 
   RowBox[{"ParallelMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"GeneratePieChartsAtTick", "[", 
       RowBox[{"#", ",", "labels", ",", 
        RowBox[{"maleMax", "+", "femaleMax"}]}], "]"}], "&"}], ",", 
     RowBox[{"subsetPopulations", "[", 
      RowBox[{"[", "1", "]"}], "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pieChartFrames", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], ",", 
         RowBox[{"Log", "[", 
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "+", "1.5"}], "]"}]}], "}"}], 
       "&"}], "/@", "i"}], ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "pieChartFrames"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"range", ",", "networkMatrix", ",", "vertexCoordinates"}], "}"}], 
   "=", 
   RowBox[{"CalculateNetworkParameters", "[", 
    RowBox[{"cities", ",", "transitionsMatrix"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vertexShapeAndSizeFrames", "=", 
   RowBox[{"ParallelMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"CalculateVertexScalers", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"range", ",", 
          RowBox[{"nodeScaler", "*", ".25"}]}], "}"}], ",", "#"}], "]"}], 
      "&"}], ",", "pieChartFrames"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"networkFrames", "=", 
   RowBox[{"ParallelMap", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"GenerateNetworkFrames", "[", 
       RowBox[{"#", ",", 
        RowBox[{"{", 
         RowBox[{"vertexCoordinates", ",", "networkMatrix"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", ".0001", ",", "frameDimensions"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"countryPolygon", ",", "countrySchematicPolygon"}], "}"}], 
        ",", "colorPaletteMap"}], "]"}], "&"}], ",", 
     "vertexShapeAndSizeFrames"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"networkFrames", "//", "Last"}], "//", 
   RowBox[{
    RowBox[{"Show", "[", 
     RowBox[{"#", ",", 
      RowBox[{"ImageSize", "\[Rule]", "1000"}]}], "]"}], "&"}]}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.7342730525354757`*^9, 3.7342730809824553`*^9}, {
   3.734273253035922*^9, 3.7342732742501907`*^9}, {3.734273333565604*^9, 
   3.734273334047616*^9}, {3.734273375875387*^9, 3.734273388234859*^9}, {
   3.7342734260672894`*^9, 3.7342734482706003`*^9}, {3.734273499757218*^9, 
   3.734273518013481*^9}, {3.734274006774568*^9, 3.7342740076139393`*^9}, {
   3.734274066165188*^9, 3.734274066478697*^9}, {3.734274231893115*^9, 
   3.734274277521489*^9}, {3.734274596942204*^9, 3.734274597185841*^9}, {
   3.734274756326137*^9, 3.7342747580648537`*^9}, {3.734274813130291*^9, 
   3.734274817078623*^9}, {3.734274906224815*^9, 3.73427496547509*^9}, {
   3.734275011608445*^9, 3.7342750342081347`*^9}, {3.734275133413514*^9, 
   3.73427513515475*^9}, {3.734275277608567*^9, 3.734275278015958*^9}, {
   3.734275371265625*^9, 3.7342754040684958`*^9}, {3.73427553258635*^9, 
   3.734275543179607*^9}, 3.734275619083909*^9, {3.7342759015124083`*^9, 
   3.734275931514172*^9}, {3.7342759939661093`*^9, 3.734276016937875*^9}, {
   3.734276122239099*^9, 3.734276131269086*^9}, {3.7342813239317217`*^9, 
   3.734281364730221*^9}, {3.734282381519121*^9, 3.734282382913251*^9}, {
   3.7342825815126953`*^9, 3.7342825860936737`*^9}, {3.734283491004582*^9, 
   3.734283506956908*^9}, {3.734283598962123*^9, 3.7342836046321707`*^9}, {
   3.734285510583601*^9, 3.7342855255555277`*^9}, {3.7342856958182592`*^9, 
   3.734285701276944*^9}, {3.734285978493148*^9, 3.7342859882710447`*^9}, {
   3.734286382175325*^9, 3.734286390113346*^9}, {3.734287097007063*^9, 
   3.734287187523555*^9}, {3.734287509853417*^9, 3.734287701432077*^9}, {
   3.734287732300789*^9, 3.734287771122768*^9}, {3.734288019175218*^9, 
   3.7342880208690977`*^9}, {3.734288164857299*^9, 3.734288181590716*^9}, 
   3.7342882301086817`*^9, 
   3.7342888869538803`*^9},ExpressionUUID->"031e1bfe-bf56-4d81-930b-\
8a6e968da450"],

Cell[CellGroupData[{

Cell["Network", "Subchapter",
 CellChangeTimes->{{3.7286537204936934`*^9, 
  3.7286537231789093`*^9}},ExpressionUUID->"ddd588ea-6ffa-4a82-bb9a-\
083f51852d18"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stepSize", "=", "4"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Table", "[", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{"Subset", " ", "Data"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"dataRange", "=", 
      RowBox[{"{", 
       RowBox[{"i", ",", 
        RowBox[{"i", "+", "stepSize"}]}], "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"subsetPopulations", ",", "subsetPopulationsAccrossNodes"}], 
       "}"}], "=", 
      RowBox[{"SubsetPopulations", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "aggregatedPopulations", ",", "aggregatedPopulationsAcrossNodes"}], 
         "}"}], ",", "dataRange"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Export", " ", "Frames"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"pieChartFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"GeneratePieChartsAtTick", "[", 
          RowBox[{"#", ",", "labels", ",", 
           RowBox[{"maleMax", "+", "femaleMax"}]}], "]"}], "&"}], ",", 
        "subsetPopulations"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"range", ",", "networkMatrix", ",", "vertexCoordinates"}], 
       "}"}], "=", 
      RowBox[{"CalculateNetworkParameters", "[", "cities", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vertexShapeAndSizeFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"CalculateVertexScalers", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"range", ",", "nodeScaler"}], "}"}], ",", "#"}], "]"}], 
         "&"}], ",", "pieChartFrames"}], "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"networkFrames", "=", 
      RowBox[{"ParallelMap", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"GenerateNetworkFrames", "[", 
          RowBox[{"#", ",", 
           RowBox[{"{", 
            RowBox[{"vertexCoordinates", ",", "networkMatrix"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{".075", ",", ".0005", ",", "frameDimensions"}], "}"}]}], 
          "]"}], "&"}], ",", "vertexShapeAndSizeFrames"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ExportFrames", "[", 
      RowBox[{"networkFrames", ",", "dataRange", ",", 
       RowBox[{"{", 
        RowBox[{"outputFolder", ",", "outputNetworks", ",", "baseNetworks"}], 
        "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{"Clear", " ", "Memory"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"ClearSystemCache", "[", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{
      "dataRange", ",", "subsetPopulations", ",", 
       "subsetPopulationsAccrossNodes", ",", "pieChartFrames", ",", 
       "vertexShapeAndSizeFrames", ",", "networkFrames", ",", "range", ",", 
       "networkMatrix", ",", "vertexCoordinates"}], "]"}], ";"}], 
    "\[IndentingNewLine]", ",", 
    RowBox[{"{", 
     RowBox[{"i", ",", 
      RowBox[{"framesRange", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{"framesRange", "[", 
        RowBox[{"[", "2", "]"}], "]"}], "-", "stepSize"}], ",", "stepSize"}], 
     "}"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.7286608221304693`*^9, 3.7286608327910433`*^9}, {
   3.728660872408317*^9, 3.728660886912237*^9}, 3.728660927564033*^9, 
   3.728660970099587*^9, {3.728661058393159*^9, 3.728661153868289*^9}, {
   3.728661265767144*^9, 3.728661305710866*^9}, {3.728661375272917*^9, 
   3.728661382785262*^9}, {3.728662159094903*^9, 3.728662159346159*^9}, {
   3.7286752009759483`*^9, 3.728675201717708*^9}, {3.728675346650138*^9, 
   3.7286753495647087`*^9}, {3.728852536055922*^9, 3.728852555045615*^9}, {
   3.7288526277029667`*^9, 3.7288526333082113`*^9}, {3.728852852138495*^9, 
   3.7288529042710342`*^9}, {3.728853223160734*^9, 3.728853251019911*^9}, 
   3.7289276740161123`*^9, {3.728927740232855*^9, 3.728927746035223*^9}, {
   3.72893134573556*^9, 3.728931347865903*^9}, {3.728996281217606*^9, 
   3.7289962814623413`*^9}, {3.728996319965228*^9, 3.7289963221025457`*^9}, 
   3.728996528122198*^9, {3.7290034929467363`*^9, 3.729003509629693*^9}, {
   3.7290229090598373`*^9, 
   3.729022909140967*^9}},ExpressionUUID->"c5e66cc4-8ed9-40d5-b76e-\
5154b2f9cf1e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  FractionBox[
   RowBox[{"7680", "-", "1927"}], "2"], "//", "N"}]], "Input",
 CellChangeTimes->{{3.735041227965805*^9, 3.735041263260721*^9}, {
  3.735041487626595*^9, 3.735041495507287*^9}, {3.7350424956532183`*^9, 
  3.735042505476716*^9}, {3.7350426371837*^9, 
  3.735042648192924*^9}},ExpressionUUID->"4a4df025-385a-4320-a0c2-\
d7c0521b131b"],

Cell[BoxData["2876.5`"], "Output",
 CellChangeTimes->{{3.735041489073283*^9, 3.7350414958698397`*^9}, 
   3.735042505924316*^9, 
   3.7350426486072693`*^9},ExpressionUUID->"f8586974-2aa3-461b-91c2-\
d735cd7468ea"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1027, 1370},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification:>0.75 Inherited,
FrontEndVersion->"11.1 for Mac OS X x86 (32-bit, 64-bit Kernel) (April 27, \
2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 195, 3, 70, "Title", "ExpressionUUID" -> \
"2ff85094-177f-4203-aeef-ae3a7082f034"],
Cell[CellGroupData[{
Cell[800, 29, 230, 4, 49, "Chapter", "ExpressionUUID" -> \
"245eba7d-e03d-4aa2-a830-5a1f00392c1f"],
Cell[1033, 35, 61678, 1467, 2866, "Input", "ExpressionUUID" -> \
"6bef33b5-033f-4d8b-aed7-63185bbfb214"]
}, Closed]],
Cell[CellGroupData[{
Cell[62748, 1507, 156, 3, 42, "Chapter", "ExpressionUUID" -> \
"82785af7-1316-4a9c-b0ab-a724d40fb99f"],
Cell[CellGroupData[{
Cell[62929, 1514, 18341, 361, 571, "Input", "ExpressionUUID" -> \
"eaf3faab-5169-4026-bc61-e73ab018b0be"],
Cell[81273, 1877, 2307, 46, 26, "Output", "ExpressionUUID" -> \
"f9bcb483-82b2-428a-839c-8bff7983b2ca"],
Cell[83583, 1925, 7637, 189, 26, "Output", "ExpressionUUID" -> \
"47afbc83-b0f0-47aa-8550-c0f0b38fc19f"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[91269, 2120, 161, 3, 42, "Chapter", "ExpressionUUID" -> \
"5a6b7c18-884a-4f4d-9431-076028afe0da"],
Cell[CellGroupData[{
Cell[91455, 2127, 237, 4, 48, "Subchapter", "ExpressionUUID" -> \
"edabbdd7-3ab9-4add-8e75-410dbf4f2879"],
Cell[91695, 2133, 1109, 25, 23, "Input", "ExpressionUUID" -> \
"03ea54b3-dc9f-45fc-b3c8-94ca02d1ae20"],
Cell[CellGroupData[{
Cell[92829, 2162, 488, 12, 7, "Input", "ExpressionUUID" -> \
"f83a04a9-5bb8-457a-8f87-cb5cb80de0cd"],
Cell[93320, 2176, 212, 3, 39, "Output", "ExpressionUUID" -> \
"b63adf80-76a9-4b7a-9989-988dfe7ffd18"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[93581, 2185, 163, 3, 37, "Subchapter", "ExpressionUUID" -> \
"5b41ffdd-ffe9-47e9-9c84-68402481d1d3"],
Cell[93747, 2190, 4334, 106, 188, "Input", "ExpressionUUID" -> \
"eee30cc4-d754-49b6-aa32-42fa5370b98b"]
}, Closed]],
Cell[CellGroupData[{
Cell[98118, 2301, 159, 3, 37, "Subchapter", "ExpressionUUID" -> \
"048fa023-58bf-4b14-b3cd-d280210b84cd"],
Cell[98280, 2306, 3528, 82, 141, "Input", "ExpressionUUID" -> \
"95ce88a9-aed5-4bae-944f-c1a3828611cb"]
}, Closed]],
Cell[CellGroupData[{
Cell[101845, 2393, 167, 3, 37, "Subchapter", "ExpressionUUID" -> \
"c663073f-c3bc-4282-b4b6-2b380c913e9a"],
Cell[102015, 2398, 3248, 77, 176, "Input", "ExpressionUUID" -> \
"ebe73bc6-1465-44e1-adf6-f1f4d8ac938c"]
}, Closed]],
Cell[CellGroupData[{
Cell[105300, 2480, 153, 3, 37, "Subchapter", "ExpressionUUID" -> \
"ea2c2613-5ce4-494c-b8e5-f154616deb48"],
Cell[CellGroupData[{
Cell[105478, 2487, 4535, 126, 200, "Input", "ExpressionUUID" -> \
"7fd1b9d6-ead5-400b-b142-4fd04e65c5cf"],
Cell[110016, 2615, 8534, 221, 19, "Output", "ExpressionUUID" -> \
"43d19df0-d688-4d68-9412-d937f1c028b8"]
}, Open  ]],
Cell[CellGroupData[{
Cell[118587, 2841, 5151, 117, 236, "Input", "ExpressionUUID" -> \
"ec958398-3548-4e64-b49e-d33deb4c327c"],
Cell[123741, 2960, 137, 3, 19, "Output", "ExpressionUUID" -> \
"30eaf654-bf5d-47cc-9523-13d98d1e3337"]
}, Open  ]]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[123939, 2970, 354, 6, 49, "Chapter", "ExpressionUUID" -> \
"b077fd21-6aea-4463-aba8-c55e08bfcee4"],
Cell[124296, 2978, 4165, 92, 299, "Input", "ExpressionUUID" -> \
"d729c750-f7c0-4999-bac6-07b7d5330683"]
}, Open  ]],
Cell[CellGroupData[{
Cell[128498, 3075, 151, 3, 49, "Chapter", "ExpressionUUID" -> \
"f0f2c8f6-4c3d-4b2d-95a2-17612134093b"],
Cell[128652, 3080, 7302, 171, 555, "Input", "ExpressionUUID" -> \
"a945134d-ff9e-44e1-9be3-02e0a5a893d1"],
Cell[135957, 3253, 4612, 108, 155, "Input", "ExpressionUUID" -> \
"031e1bfe-bf56-4d81-930b-8a6e968da450"],
Cell[CellGroupData[{
Cell[140594, 3365, 159, 3, 48, "Subchapter", "ExpressionUUID" -> \
"ddd588ea-6ffa-4a82-bb9a-083f51852d18"],
Cell[140756, 3370, 4434, 99, 267, "Input", "ExpressionUUID" -> \
"c5e66cc4-8ed9-40d5-b76e-5154b2f9cf1e"],
Cell[CellGroupData[{
Cell[145215, 3473, 371, 8, 39, "Input", "ExpressionUUID" -> \
"4a4df025-385a-4320-a0c2-d7c0521b131b"],
Cell[145589, 3483, 213, 4, 26, "Output", "ExpressionUUID" -> \
"f8586974-2aa3-461b-91c2-d735cd7468ea"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

